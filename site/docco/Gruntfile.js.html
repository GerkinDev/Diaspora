---
layout: doccopage
title: "Gruntfile.js"
toc: false
---
<div id="container"><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>Gruntfile.js</h1><div class="filepath">Gruntfile.js</div></th><th class="code"></th></tr></thead><tbody><tr class="section" id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span></span><span id="line-1"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
</span><span id="line-2">
</span><span id="line-3">
</span><span id="line-4"></pre></div></td></tr><tr class="section" id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><div class="dox"><div class="summary"><p>global module: false</p></div><div class="body"></div></div></td><td class="code"><div class="highlight"><pre></span><span id="line-5">
</span><span id="line-6"><span class="nx">require</span><span class="p">(</span> <span class="s1">&#39;chalk&#39;</span> <span class="p">);</span>
</span><span id="line-7">
</span><span id="line-8"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">gruntInit</span><span class="p">(</span> <span class="nx">grunt</span> <span class="p">)</span> <span class="p">{</span>
</span><span id="line-9">
</span><span id="line-10"></pre></div></td></tr><tr class="section" id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>Project configuration.</p></td><td class="code"><div class="highlight"><pre></span><span id="line-11">
</span><span id="line-12">    <span class="kr">const</span> <span class="nx">baseDocPath</span> <span class="o">=</span> <span class="s1">&#39;site&#39;</span><span class="p">;</span>
</span><span id="line-13">    <span class="kr">const</span> <span class="nx">doccoPath</span> <span class="o">=</span> <span class="sb">`</span><span class="si">${</span> <span class="nx">baseDocPath</span> <span class="si">}</span><span class="sb">/docco`</span><span class="p">;</span>
</span><span id="line-14">    <span class="kr">const</span> <span class="nx">jsdocPath</span> <span class="o">=</span> <span class="sb">`</span><span class="si">${</span> <span class="nx">baseDocPath</span> <span class="si">}</span><span class="sb">/jsdoc`</span><span class="p">;</span>
</span><span id="line-15">    <span class="kr">const</span> <span class="nx">jsAssets</span> <span class="o">=</span> <span class="cm">/*[&#39;lib/adapters/baseAdapter.js&#39;] ||*/</span> <span class="p">[</span>
</span><span id="line-16">        <span class="s1">&#39;Gruntfile.js&#39;</span><span class="p">,</span>
</span><span id="line-17">        <span class="s1">&#39;diaspora.js&#39;</span><span class="p">,</span>
</span><span id="line-18">        <span class="s1">&#39;lib/**/*.js&#39;</span><span class="p">,</span>
</span><span id="line-19">        <span class="s1">&#39;!node_modules/**/*&#39;</span><span class="p">,</span>
</span><span id="line-20">        <span class="s1">&#39;tests/**/*.js&#39;</span><span class="p">,</span>
</span><span id="line-21">    <span class="p">];</span>
</span><span id="line-22">
</span><span id="line-23">    <span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
</span><span id="line-24">        <span class="nx">pkg</span><span class="o">:</span>    <span class="nx">grunt</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">readJSON</span><span class="p">(</span> <span class="s1">&#39;package.json&#39;</span> <span class="p">),</span>
</span><span id="line-25">        <span class="nx">eslint</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-26">            <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-27">                <span class="nx">format</span><span class="o">:</span>     <span class="s1">&#39;stylish&#39;</span><span class="p">,</span> <span class="c1">//&#39;node_modules/eslint-tap&#39;,</span>
</span><span id="line-28">                <span class="nx">fix</span><span class="o">:</span>        <span class="kc">true</span><span class="p">,</span>
</span><span id="line-29">                <span class="nx">configFile</span><span class="o">:</span> <span class="s1">&#39;eslint-es6-node.json&#39;</span><span class="p">,</span>
</span><span id="line-30">            <span class="p">},</span>
</span><span id="line-31">            <span class="nx">info</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-32">                <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-33">                    <span class="nx">silent</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-34">                <span class="p">},</span>
</span><span id="line-35">                <span class="nx">src</span><span class="o">:</span> <span class="nx">jsAssets</span><span class="p">,</span>
</span><span id="line-36">            <span class="p">},</span>
</span><span id="line-37">            <span class="nx">strict</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-38">                <span class="nx">options</span><span class="o">:</span> <span class="p">{},</span>
</span><span id="line-39">                <span class="nx">src</span><span class="o">:</span>     <span class="nx">jsAssets</span><span class="p">,</span>
</span><span id="line-40">            <span class="p">},</span>
</span><span id="line-41">        <span class="p">},</span>
</span><span id="line-42">        <span class="nx">docco_husky</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-43">            <span class="nx">files</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-44">                <span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-45">                <span class="nx">src</span><span class="o">:</span>    <span class="nx">jsAssets</span><span class="p">,</span>
</span><span id="line-46">            <span class="p">},</span>
</span><span id="line-47">            <span class="nx">output_dir</span><span class="o">:</span>   <span class="nx">doccoPath</span><span class="p">,</span>
</span><span id="line-48">            <span class="nx">project_name</span><span class="o">:</span> <span class="s1">&#39;Diaspora&#39;</span><span class="p">,</span>
</span><span id="line-49">            <span class="nx">template_dir</span><span class="o">:</span> <span class="s1">&#39;node_modules/diaspora_doc/docco&#39;</span><span class="p">,</span>
</span><span id="line-50">            <span class="nx">readme</span><span class="o">:</span>       <span class="s1">&#39;README-docco.md&#39;</span><span class="p">,</span>
</span><span id="line-51">        <span class="p">},</span>
</span><span id="line-52">        <span class="nx">jsdoc</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-53">            <span class="nx">src</span><span class="o">:</span>     <span class="nx">jsAssets</span><span class="p">,</span>
</span><span id="line-54">            <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-55">                <span class="kr">private</span><span class="o">:</span>     <span class="kc">true</span><span class="p">,</span>
</span><span id="line-56">                <span class="nx">destination</span><span class="o">:</span> <span class="nx">jsdocPath</span><span class="p">,</span>
</span><span id="line-57">                <span class="nx">plugins</span><span class="o">:</span>     <span class="p">[</span> <span class="s1">&#39;plugins/markdown&#39;</span> <span class="p">],</span>
</span><span id="line-58">                <span class="nx">template</span><span class="o">:</span>    <span class="s1">&#39;node_modules/diaspora_doc/jsdoc&#39;</span><span class="p">,</span>
</span><span id="line-59">                <span class="nx">readme</span><span class="o">:</span>      <span class="s1">&#39;README-jsdoc.md&#39;</span><span class="p">,</span>
</span><span id="line-60">            <span class="p">},</span>
</span><span id="line-61">        <span class="p">},</span>
</span><span id="line-62">
</span><span id="line-63"></pre></div></td></tr><tr class="section" id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><div class="dox"><div class="summary"><p>markdown: {<br />
            index: {<br />
                files: [<br />
                    {<br />
                        src:  'README.md',<br />
                        dest: 'docs/index.html',<br />
                        ext:  '.html',<br />
                    },<br />
                ],<br />
                options: {<br />
                    templateContext:    {},<br />
                    contextBinder:      false,<br />
                    contextBinderMark:  '@@@',<br />
                    autoTemplate:       true,<br />
                    autoTemplateFormat: 'jst',<br />
                    markdownOptions:    {<br />
                        gfm:       true,<br />
                        highlight: 'manual',<br />
                        codeLines: {<br />
                            before: '<span>',<br />
                            after:  '</span>',<br />
                        },<br />
                    },<br />
                },<br />
            },<br />
        },</p></div><div class="body"></div></div></td><td class="code"><div class="highlight"><pre></span><span id="line-64">    <span class="p">});</span>
</span><span id="line-65">
</span><span id="line-66">    <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span> <span class="s1">&#39;grunt-jsdoc&#39;</span> <span class="p">);</span>
</span><span id="line-67">    <span class="nx">grunt</span><span class="p">.</span><span clas</pre></div></td></tr></tbody></table></div>