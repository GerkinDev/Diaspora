---
layout: doccopage
title: "validation.js"
toc: false
---
<div id="container"><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>validation.js</h1><div class="filepath">test/validation.js</div></th><th class="code"></th></tr></thead><tbody><tr class="section" id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span></span><span id="line-1"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
</span><span id="line-2">
</span><span id="line-3">
</span><span id="line-4"></pre></div></td></tr><tr class="section" id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><div class="dox"><div class="summary"><p>globals l: false, it: false, describe: false, require: false, expect: false, Diaspora: false,</p></div><div class="body"></div></div></td><td class="code"><div class="highlight"><pre></span><span id="line-5">
</span><span id="line-6"><span class="kr">const</span> <span class="nx">Validator</span> <span class="o">=</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">components</span><span class="p">.</span><span class="nx">Validator</span><span class="p">;</span>
</span><span id="line-7">
</span><span id="line-8"><span class="kr">const</span> <span class="nx">date1</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
</span><span id="line-9"><span class="kr">const</span> <span class="nx">date2</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span> <span class="mi">0</span> <span class="p">);</span>
</span><span id="line-10"><span class="kr">const</span> <span class="nx">obj1</span> <span class="o">=</span> <span class="p">{};</span>
</span><span id="line-11"><span class="kr">const</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span> <span class="p">};</span>
</span><span id="line-12"><span class="kr">const</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="p">[];</span>
</span><span id="line-13"><span class="kr">const</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">];</span>
</span><span id="line-14"><span class="kr">const</span> <span class="nx">exampleValues</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="line-15">    <span class="nx">any</span><span class="o">:</span>     <span class="p">[],</span>
</span><span id="line-16">    <span class="nx">string</span><span class="o">:</span>  <span class="p">[</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span>
</span><span id="line-17">    <span class="nx">integer</span><span class="o">:</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span>
</span><span id="line-18">    <span class="kr">float</span><span class="o">:</span>   <span class="p">[</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span>
</span><span id="line-19">    <span class="nx">date</span><span class="o">:</span>    <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span>
</span><span id="line-20">    <span class="nx">object</span><span class="o">:</span>  <span class="p">[</span> <span class="nx">obj1</span><span class="p">,</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">arr1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">,</span> <span class="nx">date2</span><span class="p">,</span> <span class="nx">arr2</span> <span class="p">],</span>
</span><span id="line-21">    <span class="nx">array</span><span class="o">:</span>   <span class="p">[</span> <span class="nx">arr1</span><span class="p">,</span> <span class="nx">arr2</span> <span class="p">],</span>
</span><span id="line-22"><span class="p">};</span>
</span><span id="line-23"><span class="kr">const</span> <span class="nx">getValues</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">keys</span> <span class="o">=</span> <span class="p">[])</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-24">    <span class="nx">keys</span> <span class="o">=</span> <span class="nx">l</span><span class="p">.</span><span class="nx">castArray</span><span class="p">(</span> <span class="nx">keys</span> <span class="p">);</span>
</span><span id="line-25">    <span class="kr">const</span> <span class="nx">partition</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">l</span><span class="p">.</span><span class="nx">pick</span><span class="p">(</span> <span class="nx">exampleValues</span><span class="p">,</span> <span class="nx">keys</span> <span class="p">),</span> <span class="nx">l</span><span class="p">.</span><span class="nx">omit</span><span class="p">(</span> <span class="nx">exampleValues</span><span class="p">,</span> <span class="nx">keys</span> <span class="p">)</span> <span class="p">];</span>
</span><span id="line-26">    <span class="kr">const</span> <span class="nx">partedValues</span> <span class="o">=</span> <span class="nx">l</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">partition</span><span class="p">,</span> <span class="p">(</span> <span class="nx">val</span> <span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-27">        <span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span> <span class="nx">val</span><span class="p">,</span> <span class="p">(</span> <span class="nx">acc</span><span class="p">,</span> <span class="nx">valSub</span> <span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-28">            <span class="kr">const</span> <span class="nx">vals</span> <span class="o">=</span> <span class="nx">l</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">valSub</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">valSub</span> <span class="o">:</span> <span class="nx">l</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span> <span class="nx">valSub</span> <span class="p">);</span>
</span><span id="line-29">            <span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">union</span><span class="p">(</span> <span class="nx">acc</span><span class="p">,</span> <span class="nx">vals</span> <span class="p">);</span>
</span><span id="line-30">        <span class="p">},</span> <span class="p">[]);</span>
</span><span id="line-31">    <span class="p">});</span>
</span><span id="line-32">    <span class="kr">const</span> <span class="nx">partedFiltered</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">partedValues</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">l</span><span class="p">.</span><span class="nx">difference</span><span class="p">(</span> <span class="nx">partedValues</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">partedValues</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="p">];</span>
</span><span id="line-33">    <span class="k">if</span> <span class="p">(</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="s1">&#39;any&#39;</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
</span><span id="line-34">        <span class="k">return</span> <span class="p">[</span> <span class="nx">l</span><span class="p">.</span><span class="nx">union</span><span class="p">(</span> <span class="p">...</span><span class="nx">partedFiltered</span> <span class="p">),</span> <span class="p">[]];</span>
</span><span id="line-35">    <span class="p">}</span>
</span><span id="line-36">    <span class="k">return</span> <span class="nx">partedFiltered</span><span class="p">;</span>
</span><span id="line-37"><span class="p">};</span>
</span><span id="line-38">
</span><span id="line-39"><span class="kr">const</span> <span class="nx">THROWING</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">desc</span><span class="p">,</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-40">    <span class="k">return</span> <span class="sb">`Validation </span><span class="si">${</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="nx">desc</span> <span class="p">)</span> <span class="si">}</span><span class="sb"> throwing for </span><span class="si">${</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span><span id="line-41"><span class="p">};</span>
</span><span id="line-42"><span class="kr">const</span> <span class="nx">NOT_THROWING</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">desc</span><span class="p">,</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-43">    <span class="k">return</span> <span class="sb">`Validation </span><span class="si">${</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="nx">desc</span> <span class="p">)</span> <span class="si">}</span><span class="sb"> NOT throwing for </span><span class="si">${</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span><span id="line-44"><span class="p">};</span>
</span><span id="line-45">
</span><span id="line-46"><span class="kr">const</span> <span class="nx">runTests</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="p">[</span> <span class="nx">accepted</span><span class="p">,</span> <span class="nx">rejected</span> <span class="p">])</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-47">
</span><span id="line-48"></pre></div></td></tr><tr class="section" id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>console.log({validator, accepted, rejected});</p></td><td class="code"><div class="highlight"><pre></span><span id="line-49">    <span class="nx">l</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="nx">accepted</span><span class="p">,</span> <span class="nx">value</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-50">        <span class="nx">expect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span> <span class="nx">value</span> <span class="p">),</span> <span class="nx">THROWING</span><span class="p">(</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">modelDesc</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)).</span><span class="nx">to</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
</span><span id="line-51">    <span class="p">});</span>
</span><span id="line-52">    <span class="nx">l</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="nx">rejected</span><span class="p">,</span> <span class="nx">value</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-53">        <span class="nx">expect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span> <span class="nx">value</span> <span class="p">),</span> <span class="nx">NOT_THROWING</span><span class="p">(</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">modelDesc</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)).</span><span class="nx">to</span><span class="p">.</span><span class="k">throw</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">components</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">EntityValidationError</span> <span class="p">);</span>
</span><span id="line-54">    <span class="p">});</span>
</span><span id="line-55"><span class="p">};</span>
</span><span id="line-56">
</span><span id="line-57"><span class="kr">const</span> <span class="nx">wrapTest</span> <span class="o">=</span> <span class="nx">partition</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-58">    <span class="k">return</span> <span class="nx">partition</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">values</span> <span class="p">=&gt;</span> <span class="nx">values</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">value</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-59">        <span class="k">return</span> <span class="p">{</span><span class="nx">test</span><span class="o">:</span> <span class="nx">value</span><span class="p">};</span>
</span><span id="line-60">    <span class="p">}));</span>
</span><span id="line-61"><span class="p">};</span>
</span><span id="line-62"><span class="kr">const</span> <span class="nx">canBeNil</span> <span class="o">=</span> <span class="nx">partition</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-63">    <span class="nx">partition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">l</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">partition</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">]);</span>
</span><span id="line-64">    <span class="k">return</span> <span class="nx">partition</span><span class="p">;</span>
</span><span id="line-65"><span class="p">};</span>
</span><span id="line-66"><span class="kr">const</span> <span class="nx">cannotBeNil</span> <span class="o">=</span> <span class="nx">partition</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-67">    <span class="nx">partition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">l</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">partition</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">]);</span>
</span><span id="line-68">    <span class="k">return</span> <span class="nx">partition</span><span class="p">;</span>
</span><span id="line-69"><span class="p">};</span>
</span><span id="line-70">
</span><span id="line-71"><span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;&quot;check&quot; feature&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-72">    <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Basic tests with types&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-73">        <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Not required&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-74">            <span class="nx">l</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="nx">exampleValues</span><span class="p">,</span> <span class="p">(</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-75">                <span class="nx">it</span><span class="p">(</span> <span class="sb">`Check type &quot;</span><span class="si">${</span> <span class="nx">type</span> <span class="si">}</span><span class="sb">&quot;`</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-76">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-77">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-78">                            <span class="nx">type</span><span class="p">,</span>
</span><span id="line-79">                        <span class="p">},</span>
</span><span id="line-80">                    <span class="p">});</span>
</span><span id="line-81">                    <span class="kr">const</span> <span class="nx">partition</span> <span class="o">=</span> <span class="nx">canBeNil</span><span class="p">(</span> <span class="nx">getValues</span><span class="p">(</span> <span class="nx">type</span> <span class="p">));</span>
</span><span id="line-82">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">(</span> <span class="nx">partition</span> <span class="p">);</span>
</span><span id="line-83">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-84">                <span class="p">});</span>
</span><span id="line-85">            <span class="p">});</span>
</span><span id="line-86">        <span class="p">});</span>
</span><span id="line-87">        <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Required&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-88">            <span class="nx">l</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="nx">exampleValues</span><span class="p">,</span> <span class="p">(</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-89">                <span class="nx">it</span><span class="p">(</span> <span class="sb">`Check type &quot;</span><span class="si">${</span> <span class="nx">type</span> <span class="si">}</span><span class="sb">&quot;`</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-90">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-91">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-92">                            <span class="nx">type</span><span class="p">,</span>
</span><span id="line-93">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-94">                        <span class="p">},</span>
</span><span id="line-95">                    <span class="p">});</span>
</span><span id="line-96">                    <span class="kr">const</span> <span class="nx">partition</span> <span class="o">=</span> <span class="nx">cannotBeNil</span><span class="p">(</span> <span class="nx">getValues</span><span class="p">(</span> <span class="nx">type</span> <span class="p">));</span>
</span><span id="line-97">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">(</span> <span class="nx">partition</span> <span class="p">);</span>
</span><span id="line-98">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-99">                <span class="p">});</span>
</span><span id="line-100">            <span class="p">});</span>
</span><span id="line-101">        <span class="p">});</span>
</span><span id="line-102">    <span class="p">});</span>
</span><span id="line-103">    <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Sub-elements checking&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-104">        <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Objects&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-105">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Optional property in optional object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-106">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-107">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-108">                        <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-109">                        <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-110">                            <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-111">                                <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-112">                            <span class="p">},</span>
</span><span id="line-113">                        <span class="p">},</span>
</span><span id="line-114">                    <span class="p">},</span>
</span><span id="line-115">                <span class="p">});</span>
</span><span id="line-116">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-117">                    <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">},</span> <span class="p">{},</span> <span class="p">{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">}],</span>
</span><span id="line-118">                    <span class="p">[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span>
</span><span id="line-119">                <span class="p">]);</span>
</span><span id="line-120">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-121">            <span class="p">});</span>
</span><span id="line-122">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Optional property in required object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-123">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-124">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-125">                        <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-126">                        <span class="nx">required</span><span class="o">:</span>   <span class="kc">true</span><span class="p">,</span>
</span><span id="line-127">                        <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-128">                            <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-129">                                <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-130">                            <span class="p">},</span>
</span><span id="line-131">                        <span class="p">},</span>
</span><span id="line-132">                    <span class="p">},</span>
</span><span id="line-133">                <span class="p">});</span>
</span><span id="line-134">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-135">                    <span class="p">[{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">},</span> <span class="p">{},</span> <span class="p">{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">}],</span>
</span><span id="line-136">                    <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span>
</span><span id="line-137">                <span class="p">]);</span>
</span><span id="line-138">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-139">            <span class="p">});</span>
</span><span id="line-140">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required property in optional object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-141">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-142">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-143">                        <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-144">                        <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-145">                            <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-146">                                <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-147">                                <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-148">                            <span class="p">},</span>
</span><span id="line-149">                        <span class="p">},</span>
</span><span id="line-150">                    <span class="p">},</span>
</span><span id="line-151">                <span class="p">});</span>
</span><span id="line-152">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-153">                    <span class="p">[{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">},</span> <span class="p">{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">},</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
</span><span id="line-154">                    <span class="p">[{},</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span>
</span><span id="line-155">                <span class="p">]);</span>
</span><span id="line-156">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-157">            <span class="p">});</span>
</span><span id="line-158">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required property in required object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-159">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-160">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-161">                        <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-162">                        <span class="nx">required</span><span class="o">:</span>   <span class="kc">true</span><span class="p">,</span>
</span><span id="line-163">                        <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-164">                            <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-165">                                <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-166">                                <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-167">                            <span class="p">},</span>
</span><span id="line-168">                        <span class="p">},</span>
</span><span id="line-169">                    <span class="p">},</span>
</span><span id="line-170">                <span class="p">});</span>
</span><span id="line-171">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-172">                    <span class="p">[{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">},</span> <span class="p">{</span><span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">}],</span>
</span><span id="line-173">                    <span class="p">[</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{}],</span>
</span><span id="line-174">                <span class="p">]);</span>
</span><span id="line-175">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-176">            <span class="p">});</span>
</span><span id="line-177">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;In-depth required property in required object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-178">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-179">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-180">                        <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-181">                        <span class="nx">required</span><span class="o">:</span>   <span class="kc">true</span><span class="p">,</span>
</span><span id="line-182">                        <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-183">                            <span class="nx">obj</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-184">                                <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-185">                                <span class="nx">required</span><span class="o">:</span>   <span class="kc">true</span><span class="p">,</span>
</span><span id="line-186">                                <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-187">                                    <span class="nx">obj</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-188">                                        <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-189">                                        <span class="nx">required</span><span class="o">:</span>   <span class="kc">true</span><span class="p">,</span>
</span><span id="line-190">                                        <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-191">                                            <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-192">                                                <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-193">                                                <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-194">                                            <span class="p">},</span>
</span><span id="line-195">                                        <span class="p">},</span>
</span><span id="line-196">                                    <span class="p">},</span>
</span><span id="line-197">                                <span class="p">},</span>
</span><span id="line-198">                            <span class="p">},</span>
</span><span id="line-199">                        <span class="p">},</span>
</span><span id="line-200">                    <span class="p">},</span>
</span><span id="line-201">                <span class="p">});</span>
</span><span id="line-202">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-203">                    <span class="p">[{</span><span class="nx">obj</span><span class="o">:</span> <span class="p">{</span><span class="nx">obj</span><span class="o">:</span> <span class="p">{</span><span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">}}}],</span>
</span><span id="line-204">                    <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{},</span> <span class="p">{</span><span class="nx">obj</span><span class="o">:</span> <span class="p">{}},</span> <span class="p">{</span><span class="nx">obj</span><span class="o">:</span> <span class="p">{</span><span class="nx">obj</span><span class="o">:</span> <span class="p">{}}}],</span>
</span><span id="line-205">                <span class="p">]);</span>
</span><span id="line-206">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-207">            <span class="p">});</span>
</span><span id="line-208">        <span class="p">});</span>
</span><span id="line-209">        <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Arrays&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-210">            <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Single definition&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-211">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Optional single definition in optional object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-212">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-213">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-214">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-215">                            <span class="k">of</span><span class="o">:</span>   <span class="p">{</span>
</span><span id="line-216">                                <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-217">                            <span class="p">},</span>
</span><span id="line-218">                        <span class="p">},</span>
</span><span id="line-219">                    <span class="p">});</span>
</span><span id="line-220">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-221">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">]],</span>
</span><span id="line-222">                        <span class="p">[[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}]],</span>
</span><span id="line-223">                    <span class="p">]);</span>
</span><span id="line-224">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-225">                <span class="p">});</span>
</span><span id="line-226">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Optional single definition in required object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-227">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-228">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-229">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-230">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-231">                            <span class="k">of</span><span class="o">:</span>       <span class="p">{</span>
</span><span id="line-232">                                <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-233">                            <span class="p">},</span>
</span><span id="line-234">                        <span class="p">},</span>
</span><span id="line-235">                    <span class="p">});</span>
</span><span id="line-236">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-237">                        <span class="p">[[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">]],</span>
</span><span id="line-238">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}]],</span>
</span><span id="line-239">                    <span class="p">]);</span>
</span><span id="line-240">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-241">                <span class="p">});</span>
</span><span id="line-242">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required single definition in optional object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-243">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-244">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-245">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-246">                            <span class="k">of</span><span class="o">:</span>   <span class="p">{</span>
</span><span id="line-247">                                <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-248">                                <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-249">                            <span class="p">},</span>
</span><span id="line-250">                        <span class="p">},</span>
</span><span id="line-251">                    <span class="p">});</span>
</span><span id="line-252">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-253">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]],</span>
</span><span id="line-254">                        <span class="p">[[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">]],</span>
</span><span id="line-255">                    <span class="p">]);</span>
</span><span id="line-256">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-257">                <span class="p">});</span>
</span><span id="line-258">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required single definition in required object&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-259">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-260">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-261">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-262">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-263">                            <span class="k">of</span><span class="o">:</span>       <span class="p">{</span>
</span><span id="line-264">                                <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-265">                                <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-266">                            <span class="p">},</span>
</span><span id="line-267">                        <span class="p">},</span>
</span><span id="line-268">                    <span class="p">});</span>
</span><span id="line-269">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-270">                        <span class="p">[[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]],</span>
</span><span id="line-271">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">]],</span>
</span><span id="line-272">                    <span class="p">]);</span>
</span><span id="line-273">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-274">                <span class="p">});</span>
</span><span id="line-275">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;In-depth required element in required arrays&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-276">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-277">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-278">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-279">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-280">                            <span class="k">of</span><span class="o">:</span>       <span class="p">{</span>
</span><span id="line-281">                                <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-282">                                <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-283">                                <span class="k">of</span><span class="o">:</span>       <span class="p">{</span>
</span><span id="line-284">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-285">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-286">                                    <span class="k">of</span><span class="o">:</span>       <span class="p">{</span>
</span><span id="line-287">                                        <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-288">                                        <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-289">                                    <span class="p">},</span>
</span><span id="line-290">                                <span class="p">},</span>
</span><span id="line-291">                            <span class="p">},</span>
</span><span id="line-292">                        <span class="p">},</span>
</span><span id="line-293">                    <span class="p">});</span>
</span><span id="line-294">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-295">                        <span class="p">[[[[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">]]],</span> <span class="p">[[[]]],</span> <span class="p">[[]],</span> <span class="p">[]],</span>
</span><span id="line-296">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[[[[</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]]]],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]],</span>
</span><span id="line-297">                    <span class="p">]);</span>
</span><span id="line-298">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-299">                <span class="p">});</span>
</span><span id="line-300">            <span class="p">});</span>
</span><span id="line-301">            <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Multiple definition&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-302">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Optional multiple definitions in optional array&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-303">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-304">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-305">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-306">                            <span class="k">of</span><span class="o">:</span>   <span class="p">[</span>
</span><span id="line-307">                                <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">},</span>
</span><span id="line-308">                                <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;date&#39;</span><span class="p">},</span>
</span><span id="line-309">                            <span class="p">],</span>
</span><span id="line-310">                        <span class="p">},</span>
</span><span id="line-311">                    <span class="p">});</span>
</span><span id="line-312">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-313">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]],</span>
</span><span id="line-314">                        <span class="p">[[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}]],</span>
</span><span id="line-315">                    <span class="p">]);</span>
</span><span id="line-316">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-317">                <span class="p">});</span>
</span><span id="line-318">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Optional multiple definitions in required array&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-319">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-320">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-321">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-322">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-323">                            <span class="k">of</span><span class="o">:</span>       <span class="p">[</span>
</span><span id="line-324">                                <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span> <span class="p">},</span>
</span><span id="line-325">                                <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;date&#39;</span><span class="p">},</span>
</span><span id="line-326">                            <span class="p">],</span>
</span><span id="line-327">                        <span class="p">},</span>
</span><span id="line-328">                    <span class="p">});</span>
</span><span id="line-329">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-330">                        <span class="p">[[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]],</span>
</span><span id="line-331">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}]],</span>
</span><span id="line-332">                    <span class="p">]);</span>
</span><span id="line-333">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-334">                <span class="p">});</span>
</span><span id="line-335">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required multiple definitions in optional array&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-336">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-337">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-338">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-339">                            <span class="k">of</span><span class="o">:</span>   <span class="p">[</span>
</span><span id="line-340">                                <span class="p">{</span>
</span><span id="line-341">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-342">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> 
</span><span id="line-343">                                <span class="p">},</span>
</span><span id="line-344">                                <span class="p">{</span>
</span><span id="line-345">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;date&#39;</span><span class="p">,</span>
</span><span id="line-346">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> 
</span><span id="line-347">                                <span class="p">},</span>
</span><span id="line-348">                            <span class="p">],</span>
</span><span id="line-349">                        <span class="p">},</span>
</span><span id="line-350">                    <span class="p">});</span>
</span><span id="line-351">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-352">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]],</span>
</span><span id="line-353">                        <span class="p">[[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">]],</span>
</span><span id="line-354">                    <span class="p">]);</span>
</span><span id="line-355">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-356">                <span class="p">});</span>
</span><span id="line-357">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required multiple definitions in required array&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-358">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-359">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-360">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-361">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-362">                            <span class="k">of</span><span class="o">:</span>       <span class="p">[</span>
</span><span id="line-363">                                <span class="p">{</span>
</span><span id="line-364">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-365">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> 
</span><span id="line-366">                                <span class="p">},</span>
</span><span id="line-367">                                <span class="p">{</span>
</span><span id="line-368">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;date&#39;</span><span class="p">,</span>
</span><span id="line-369">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> 
</span><span id="line-370">                                <span class="p">},</span>
</span><span id="line-371">                            <span class="p">],</span>
</span><span id="line-372">                        <span class="p">},</span>
</span><span id="line-373">                    <span class="p">});</span>
</span><span id="line-374">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-375">                        <span class="p">[[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]],</span>
</span><span id="line-376">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">]],</span>
</span><span id="line-377">                    <span class="p">]);</span>
</span><span id="line-378">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-379">                <span class="p">});</span>
</span><span id="line-380">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required &amp; optional definitions in array&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-381">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-382">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-383">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-384">                            <span class="k">of</span><span class="o">:</span>   <span class="p">[</span>
</span><span id="line-385">                                <span class="p">{</span>
</span><span id="line-386">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-387">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> 
</span><span id="line-388">                                <span class="p">},</span>
</span><span id="line-389">                                <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;date&#39;</span> <span class="p">},</span>
</span><span id="line-390">                            <span class="p">],</span>
</span><span id="line-391">                        <span class="p">},</span>
</span><span id="line-392">                    <span class="p">});</span>
</span><span id="line-393">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-394">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="nx">date2</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">date1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]],</span>
</span><span id="line-395">                        <span class="p">[[</span> <span class="s1">&#39;foo&#39;</span> <span class="p">],</span> <span class="p">[{}]],</span>
</span><span id="line-396">                    <span class="p">]);</span>
</span><span id="line-397">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-398">                <span class="p">});</span>
</span><span id="line-399">                <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;In-depth required element in required arrays&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-400">                    <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-401">                        <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-402">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-403">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-404">                            <span class="k">of</span><span class="o">:</span>       <span class="p">[</span>
</span><span id="line-405">                                <span class="p">{</span>
</span><span id="line-406">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-407">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-408">                                    <span class="k">of</span><span class="o">:</span>       <span class="p">[</span>
</span><span id="line-409">                                        <span class="p">{</span>
</span><span id="line-410">                                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-411">                                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-412">                                            <span class="k">of</span><span class="o">:</span>       <span class="p">[</span>
</span><span id="line-413">                                                <span class="p">{</span>
</span><span id="line-414">                                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-415">                                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-416">                                                <span class="p">},</span>
</span><span id="line-417">                                            <span class="p">],</span>
</span><span id="line-418">                                        <span class="p">},</span>
</span><span id="line-419">                                        <span class="p">{</span>
</span><span id="line-420">                                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-421">                                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-422">                                        <span class="p">},</span>
</span><span id="line-423">                                    <span class="p">],</span>
</span><span id="line-424">                                <span class="p">},</span>
</span><span id="line-425">                                <span class="p">{</span>
</span><span id="line-426">                                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-427">                                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-428">                                <span class="p">},</span>
</span><span id="line-429">                            <span class="p">],</span>
</span><span id="line-430">                        <span class="p">},</span>
</span><span id="line-431">                    <span class="p">});</span>
</span><span id="line-432">                    <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-433">                        <span class="p">[[[[</span> <span class="mi">1</span> <span class="p">]]],</span> <span class="p">[[[</span> <span class="mi">1</span> <span class="p">]]],</span> <span class="p">[[]],</span> <span class="p">[],</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]],</span>
</span><span id="line-434">                        <span class="p">[</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[[[[</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]]]]],</span>
</span><span id="line-435">                    <span class="p">]);</span>
</span><span id="line-436">                    <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-437">                <span class="p">});</span>
</span><span id="line-438">            <span class="p">});</span>
</span><span id="line-439">        <span class="p">});</span>
</span><span id="line-440">    <span class="p">});</span>
</span><span id="line-441">    <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;&quot;enum&quot; property&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-442">        <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Not required&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-443">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Not required enum of any type&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-444">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-445">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-446">                        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-447">                        <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span> <span class="p">],</span>
</span><span id="line-448">                    <span class="p">},</span>
</span><span id="line-449">                <span class="p">});</span>
</span><span id="line-450">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-451">                    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
</span><span id="line-452">                    <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{},</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">],</span>
</span><span id="line-453">                <span class="p">]);</span>
</span><span id="line-454">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-455">            <span class="p">});</span>
</span><span id="line-456">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Not required enum of a specific type&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-457">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-458">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-459">                        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-460">                        <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span> <span class="p">],</span>
</span><span id="line-461">                    <span class="p">},</span>
</span><span id="line-462">                <span class="p">});</span>
</span><span id="line-463">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-464">                    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
</span><span id="line-465">                    <span class="p">[</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{},</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">],</span>
</span><span id="line-466">                <span class="p">]);</span>
</span><span id="line-467">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-468">            <span class="p">});</span>
</span><span id="line-469">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Not required enum matching with regex&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-470">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-471">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-472">                        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-473">                        <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="sr">/^foo/</span><span class="p">,</span> <span class="sr">/bar$/</span> <span class="p">],</span>
</span><span id="line-474">                    <span class="p">},</span>
</span><span id="line-475">                <span class="p">});</span>
</span><span id="line-476">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-477">                    <span class="p">[</span> <span class="s1">&#39;foobaz&#39;</span><span class="p">,</span> <span class="s1">&#39;bazbar&#39;</span><span class="p">,</span> <span class="s1">&#39;foobar&#39;</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
</span><span id="line-478">                    <span class="p">[</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="s1">&#39;barfoo&#39;</span> <span class="p">],</span>
</span><span id="line-479">                <span class="p">]);</span>
</span><span id="line-480">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-481">            <span class="p">});</span>
</span><span id="line-482">        <span class="p">});</span>
</span><span id="line-483">        <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;Required&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-484">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required enum of any type&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-485">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-486">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-487">                        <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-488">                        <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-489">                        <span class="kr">enum</span><span class="o">:</span>     <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span> <span class="p">],</span>
</span><span id="line-490">                    <span class="p">},</span>
</span><span id="line-491">                <span class="p">});</span>
</span><span id="line-492">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-493">                    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span> <span class="p">],</span>
</span><span id="line-494">                    <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{},</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
</span><span id="line-495">                <span class="p">]);</span>
</span><span id="line-496">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-497">            <span class="p">});</span>
</span><span id="line-498">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required enum of a specific type&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-499">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-500">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-501">                        <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-502">                        <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-503">                        <span class="kr">enum</span><span class="o">:</span>     <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span> <span class="p">],</span>
</span><span id="line-504">                    <span class="p">},</span>
</span><span id="line-505">                <span class="p">});</span>
</span><span id="line-506">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-507">                    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span>
</span><span id="line-508">                    <span class="p">[</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[],</span> <span class="p">{},</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
</span><span id="line-509">                <span class="p">]);</span>
</span><span id="line-510">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-511">            <span class="p">});</span>
</span><span id="line-512">            <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Required enum matching with regex&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-513">                <span class="kr">const</span> <span class="nx">validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">({</span>
</span><span id="line-514">                    <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-515">                        <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-516">                        <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-517">                        <span class="kr">enum</span><span class="o">:</span>     <span class="p">[</span> <span class="sr">/^foo/</span><span class="p">,</span> <span class="sr">/bar$/</span> <span class="p">],</span>
</span><span id="line-518">                    <span class="p">},</span>
</span><span id="line-519">                <span class="p">});</span>
</span><span id="line-520">                <span class="kr">const</span> <span class="nx">testObjects</span> <span class="o">=</span> <span class="nx">wrapTest</span><span class="p">([</span>
</span><span id="line-521">                    <span class="p">[</span> <span class="s1">&#39;foobaz&#39;</span><span class="p">,</span> <span class="s1">&#39;bazbar&#39;</span><span class="p">,</span> <span class="s1">&#39;foobar&#39;</span> <span class="p">],</span>
</span><span id="line-522">                    <span class="p">[</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="s1">&#39;barfoo&#39;</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">null</span> <span class="p">],</span>
</span><span id="line-523">                <span class="p">]);</span>
</span><span id="line-524">                <span class="k">return</span> <span class="nx">runTests</span><span class="p">(</span> <span class="nx">validator</span><span class="p">,</span> <span class="nx">testObjects</span> <span class="p">);</span>
</span><span id="line-525">            <span class="p">});</span>
</span><span id="line-526">        <span class="p">});</span>
</span><span id="line-527">    <span class="p">});</span>
</span><span id="line-528"><span class="p">});</span>
</span>
</pre></div></td></tr></tbody></table></div>