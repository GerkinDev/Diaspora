---
layout: doccopage
title: "index.js"
toc: false
---
<div id="container"><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>index.js</h1><div class="filepath">test/index.js</div></th><th class="code"></th></tr></thead><tbody><tr class="section" id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span></span><span id="line-1"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
</span><span id="line-2">
</span><span id="line-3">
</span><span id="line-4"></pre></div></td></tr><tr class="section" id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><div class="dox"><div class="summary"><p>globals l: false, it: false, describe: false, require: false, expect: false, Diaspora: false, getStyle: false, importTest: false</p></div><div class="body"></div></div></td><td class="code"><div class="highlight"><pre></span><span id="line-5">
</span><span id="line-6"><span class="nx">require</span><span class="p">(</span> <span class="s1">&#39;./defineGlobals&#39;</span> <span class="p">);</span>
</span><span id="line-7">
</span><span id="line-8"><span class="k">if</span> <span class="p">(</span> <span class="s1">&#39;no&#39;</span> <span class="o">===</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">SAUCE</span> <span class="o">||</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">SAUCE</span> <span class="p">)</span> <span class="p">{</span>
</span><span id="line-9">    <span class="k">if</span> <span class="p">(</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nb">window</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;object&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">exports</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">!==</span> <span class="s1">&#39;string&#39;</span> <span class="p">)</span> <span class="p">{</span>
</span><span id="line-10">        <span class="nx">global</span><span class="p">.</span><span class="nx">Diaspora</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span> <span class="s1">&#39;../diaspora&#39;</span> <span class="p">);</span>
</span><span id="line-11">    <span class="p">}</span>
</span><span id="line-12">    <span class="nx">global</span><span class="p">.</span><span class="nx">dataSources</span> <span class="o">=</span> <span class="p">{};</span>
</span><span id="line-13">    <span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;&quot;check&quot; feature&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-14">        <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;Basic tests with types&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-15">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-16">                <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-17">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-18">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-19">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-20">                <span class="p">},</span>
</span><span id="line-21">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-22">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-23">                <span class="nx">test</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="line-24">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-25">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-26">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-27">                <span class="p">},</span>
</span><span id="line-28">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-29">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-30">                <span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-31">                <span class="nx">number</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="line-32">                <span class="kr">float</span><span class="o">:</span>  <span class="mf">1.5</span><span class="p">,</span>
</span><span id="line-33">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-34">                <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-35">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-36">                <span class="p">},</span>
</span><span id="line-37">                <span class="nx">number</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-38">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-39">                <span class="p">},</span>
</span><span id="line-40">                <span class="kr">float</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-41">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
</span><span id="line-42">                <span class="p">},</span>
</span><span id="line-43">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-44">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-45">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-46">                    <span class="nx">string</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-47">                <span class="p">},</span>
</span><span id="line-48">                <span class="nx">objectUndef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-49">                    <span class="nx">aze</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span>
</span><span id="line-50">                <span class="p">},</span>
</span><span id="line-51">                <span class="nx">array</span><span class="o">:</span> <span class="p">[</span>
</span><span id="line-52">                    <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>
</span><span id="line-53">                <span class="p">],</span>
</span><span id="line-54">                <span class="nx">arrayUndef</span><span class="o">:</span> <span class="p">[</span>
</span><span id="line-55">                    <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="p">{},</span>
</span><span id="line-56">                <span class="p">],</span>
</span><span id="line-57">                <span class="nx">arrayMultiDef</span><span class="o">:</span> <span class="p">[</span>
</span><span id="line-58">                    <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span>
</span><span id="line-59">                <span class="p">],</span>
</span><span id="line-60">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-61">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-62">                    <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-63">                    <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-64">                        <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-65">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-66">                        <span class="p">},</span>
</span><span id="line-67">                    <span class="p">},</span>
</span><span id="line-68">                <span class="p">},</span>
</span><span id="line-69">                <span class="nx">objectUndef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-70">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-71">                <span class="p">},</span>
</span><span id="line-72">                <span class="nx">array</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-73">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-74">                    <span class="k">of</span><span class="o">:</span>   <span class="p">{</span>
</span><span id="line-75">                        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-76">                    <span class="p">},</span>
</span><span id="line-77">                <span class="p">},</span>
</span><span id="line-78">                <span class="nx">arrayUndef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-79">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-80">                <span class="p">},</span>
</span><span id="line-81">                <span class="nx">arrayMultiDef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-82">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-83">                    <span class="k">of</span><span class="o">:</span>   <span class="p">[</span>
</span><span id="line-84">                        <span class="p">{</span>
</span><span id="line-85">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
</span><span id="line-86">                        <span class="p">},</span>
</span><span id="line-87">                        <span class="p">{</span>
</span><span id="line-88">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-89">                        <span class="p">},</span>
</span><span id="line-90">                    <span class="p">],</span>
</span><span id="line-91">                <span class="p">},</span>
</span><span id="line-92">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-93">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-94">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-95">                    <span class="nx">string</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-96">                <span class="p">},</span>
</span><span id="line-97">                <span class="nx">objectUndef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-98">                    <span class="nx">aze</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-99">                <span class="p">},</span>
</span><span id="line-100">                <span class="nx">array</span><span class="o">:</span> <span class="p">[</span>
</span><span id="line-101">                    <span class="kc">null</span><span class="p">,</span>
</span><span id="line-102">                <span class="p">],</span>
</span><span id="line-103">                <span class="nx">arrayUndef</span><span class="o">:</span> <span class="p">[</span>
</span><span id="line-104">                    <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-105">                <span class="p">],</span>
</span><span id="line-106">                <span class="nx">arrayMultiDef</span><span class="o">:</span> <span class="p">[</span>
</span><span id="line-107">                    <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-108">                <span class="p">],</span>
</span><span id="line-109">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-110">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-111">                    <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-112">                    <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-113">                        <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-114">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-115">                        <span class="p">},</span>
</span><span id="line-116">                    <span class="p">},</span>
</span><span id="line-117">                <span class="p">},</span>
</span><span id="line-118">                <span class="nx">objectUndef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-119">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-120">                <span class="p">},</span>
</span><span id="line-121">                <span class="nx">array</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-122">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-123">                    <span class="k">of</span><span class="o">:</span>   <span class="p">{</span>
</span><span id="line-124">                        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-125">                    <span class="p">},</span>
</span><span id="line-126">                <span class="p">},</span>
</span><span id="line-127">                <span class="nx">arrayUndef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-128">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-129">                <span class="p">},</span>
</span><span id="line-130">                <span class="nx">arrayMultiDef</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-131">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
</span><span id="line-132">                    <span class="k">of</span><span class="o">:</span>   <span class="p">[</span>
</span><span id="line-133">                        <span class="p">{</span>
</span><span id="line-134">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
</span><span id="line-135">                        <span class="p">},</span>
</span><span id="line-136">                        <span class="p">{</span>
</span><span id="line-137">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-138">                        <span class="p">},</span>
</span><span id="line-139">                    <span class="p">],</span>
</span><span id="line-140">                <span class="p">},</span>
</span><span id="line-141">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-142">        <span class="p">});</span>
</span><span id="line-143">        <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;&quot;required&quot; property&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-144">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-145">                <span class="nx">test</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="line-146">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-147">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-148">                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-149">                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-150">                <span class="p">},</span>
</span><span id="line-151">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-152">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-153">                <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-154">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-155">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-156">                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-157">                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-158">                <span class="p">},</span>
</span><span id="line-159">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-160">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-161">                <span class="nx">test</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-162">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-163">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-164">                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-165">                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-166">                <span class="p">},</span>
</span><span id="line-167">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-168">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-169">                <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span id="line-170">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-171">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-172">                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-173">                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-174">                <span class="p">},</span>
</span><span id="line-175">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-176">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-177">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-178">                    <span class="nx">string</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-179">                <span class="p">},</span>
</span><span id="line-180">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-181">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-182">                    <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-183">                    <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-184">                        <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-185">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-186">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-187">                        <span class="p">},</span>
</span><span id="line-188">                    <span class="p">},</span>
</span><span id="line-189">                <span class="p">},</span>
</span><span id="line-190">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-191">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-192">                <span class="nx">object</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-193">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-194">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-195">                    <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-196">                    <span class="nx">required</span><span class="o">:</span>   <span class="kc">true</span><span class="p">,</span>
</span><span id="line-197">                    <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-198">                        <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-199">                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-200">                        <span class="p">},</span>
</span><span id="line-201">                    <span class="p">},</span>
</span><span id="line-202">                <span class="p">},</span>
</span><span id="line-203">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-204">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-205">                <span class="nx">object</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-206">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-207">                <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-208">                    <span class="nx">type</span><span class="o">:</span>       <span class="s1">&#39;object&#39;</span><span class="p">,</span>
</span><span id="line-209">                    <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-210">                        <span class="nx">string</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-211">                            <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-212">                            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-213">                        <span class="p">},</span>
</span><span id="line-214">                    <span class="p">},</span>
</span><span id="line-215">                <span class="p">},</span>
</span><span id="line-216">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-217">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({},</span> <span class="p">{</span>
</span><span id="line-218">                <span class="nx">rand</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-219">                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;number&#39;</span><span class="p">,</span>
</span><span id="line-220">                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-221">                <span class="p">},</span>
</span><span id="line-222">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-223">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-224">                <span class="nx">rand</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span id="line-225">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-226">                <span class="nx">rand</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-227">                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-228">                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-229">                <span class="p">},</span>
</span><span id="line-230">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-231">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-232">                <span class="nx">rand</span><span class="o">:</span> <span class="nx">l</span><span class="p">.</span><span class="nx">random</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span> <span class="p">),</span>
</span><span id="line-233">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-234">                <span class="nx">rand</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-235">                    <span class="nx">type</span><span class="o">:</span>     <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
</span><span id="line-236">                    <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span id="line-237">                <span class="p">},</span>
</span><span id="line-238">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-239">        <span class="p">});</span>
</span><span id="line-240">        <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;&quot;enum&quot; property&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-241">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-242">                <span class="nx">test</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="line-243">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-244">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-245">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span>
</span><span id="line-246">                    <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;aze&#39;</span> <span class="p">],</span>
</span><span id="line-247">                <span class="p">},</span>
</span><span id="line-248">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-249">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-250">                <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-251">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-252">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-253">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-254">                    <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span> <span class="p">],</span>
</span><span id="line-255">                <span class="p">},</span>
</span><span id="line-256">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-257">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-258">                <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-259">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-260">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-261">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-262">                    <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span> <span class="p">],</span>
</span><span id="line-263">                <span class="p">},</span>
</span><span id="line-264">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-265">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-266">                <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-267">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-268">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-269">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-270">                    <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="sr">/^str/</span> <span class="p">],</span>
</span><span id="line-271">                <span class="p">},</span>
</span><span id="line-272">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-273">            <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="nx">check</span><span class="p">({</span>
</span><span id="line-274">                <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-275">            <span class="p">},</span> <span class="p">{</span>
</span><span id="line-276">                <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-277">                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
</span><span id="line-278">                    <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="sr">/^wo/</span> <span class="p">],</span>
</span><span id="line-279">                <span class="p">},</span>
</span><span id="line-280">            <span class="p">})).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span>
</span><span id="line-281">        <span class="p">});</span>
</span><span id="line-282">    <span class="p">});</span>
</span><span id="line-283">    <span class="nx">it</span><span class="p">(</span> <span class="s1">&#39;&quot;default&quot; feature&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span><span id="line-284">        <span class="nx">expect</span><span class="p">(</span> <span class="nx">Diaspora</span><span class="p">.</span><span class="k">default</span><span class="p">({</span>
</span><span id="line-285">            <span class="nx">aze</span><span class="o">:</span> <span class="mi">123</span><span class="p">,</span>
</span><span id="line-286">        <span class="p">},</span> <span class="p">{</span>
</span><span id="line-287">            <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span>
</span><span id="line-288">                <span class="nx">type</span><span class="o">:</span>    <span</pre></div></td></tr></tbody></table></div>