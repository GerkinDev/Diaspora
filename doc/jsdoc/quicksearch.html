<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/lunr.min.js"></script>
<script src="scripts/fulltext-search.js"></script>

<script type="text/x-docstrap-searchdb">
{"classes.list.html":{"id":"classes.list.html","title":"Classes","body":"--- layout: docpage title: &quot;Classes&quot; toc: false --- Classes Classes BrowserStorageDiasporaAdapter DiasporaAdapter InMemoryDiasporaAdapter BrowserStorageEntity DataStoreEntity InMemoryEntity Entity An entity is a document in the population of all your datas of the same type Model Set ValidationError Namespaces Adapters ConstrainedTypes DataStoreEntities Diaspora EntityFactory QueryLanguage Events Adapters.BrowserStorageDiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error Inherited From: Adapters.DiasporaAdapter#event:error See: waitReady Convinience method to wait for state change. Adapters.BrowserStorageDiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined Inherited From: Adapters.DiasporaAdapter#event:ready See: waitReady Convinience method to wait for state change. Adapters.DiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error See: waitReady Convinience method to wait for state change. Listeners of This Event: Adapters.BrowserStorageDiasporaAdapter#waitReady Adapters.DiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#waitReady Adapters.DiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined See: waitReady Convinience method to wait for state change. Listeners of This Event: Adapters.BrowserStorageDiasporaAdapter#waitReady Adapters.DiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error Inherited From: Adapters.DiasporaAdapter#event:error See: waitReady Convinience method to wait for state change. Adapters.InMemoryDiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined Inherited From: Adapters.DiasporaAdapter#event:ready See: waitReady Convinience method to wait for state change. EntityFactory.Entity#event:afterDelete Fired after deleting this entity from the data source. Argument is the data source name deleted from Type: String EntityFactory.Entity#event:afterFind Fired after reloading this entity from the data source. Argument is the data source name searched in Type: String EntityFactory.Entity#event:afterUpdate Fired after updating this entity in the data source. Argument is the data source name updated Type: String EntityFactory.Entity#event:beforeDelete Fired before deleting this entity from the data source. Argument is the data source name to delete from Type: String EntityFactory.Entity#event:beforeFind Fired before reloading this entity from the data source. Argument is the data source name to search in Type: String EntityFactory.Entity#event:beforeUpdate Fired before updating this entity in the data source. Argument is the data source name to update Type: String Listeners of This Event: EntityFactory.Entity~beforeUpdateValidate Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:02+02:00 using the DocStrap template. "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":"--- layout: docpage title: &quot;Namespaces&quot; toc: false --- Namespaces Classes BrowserStorageDiasporaAdapter DiasporaAdapter InMemoryDiasporaAdapter BrowserStorageEntity DataStoreEntity InMemoryEntity Entity An entity is a document in the population of all your datas of the same type Model Set ValidationError Namespaces Adapters ConstrainedTypes DataStoreEntities Diaspora EntityFactory QueryLanguage Events Adapters.BrowserStorageDiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error Inherited From: Adapters.DiasporaAdapter#event:error See: waitReady Convinience method to wait for state change. Adapters.BrowserStorageDiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined Inherited From: Adapters.DiasporaAdapter#event:ready See: waitReady Convinience method to wait for state change. Adapters.DiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error See: waitReady Convinience method to wait for state change. Listeners of This Event: Adapters.BrowserStorageDiasporaAdapter#waitReady Adapters.DiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#waitReady Adapters.DiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined See: waitReady Convinience method to wait for state change. Listeners of This Event: Adapters.BrowserStorageDiasporaAdapter#waitReady Adapters.DiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error Inherited From: Adapters.DiasporaAdapter#event:error See: waitReady Convinience method to wait for state change. Adapters.InMemoryDiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined Inherited From: Adapters.DiasporaAdapter#event:ready See: waitReady Convinience method to wait for state change. EntityFactory.Entity#event:afterDelete Fired after deleting this entity from the data source. Argument is the data source name deleted from Type: String EntityFactory.Entity#event:afterFind Fired after reloading this entity from the data source. Argument is the data source name searched in Type: String EntityFactory.Entity#event:afterUpdate Fired after updating this entity in the data source. Argument is the data source name updated Type: String EntityFactory.Entity#event:beforeDelete Fired before deleting this entity from the data source. Argument is the data source name to delete from Type: String EntityFactory.Entity#event:beforeFind Fired before reloading this entity from the data source. Argument is the data source name to search in Type: String EntityFactory.Entity#event:beforeUpdate Fired before updating this entity in the data source. Argument is the data source name to update Type: String Listeners of This Event: EntityFactory.Entity~beforeUpdateValidate Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:02+02:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":"--- layout: docpage title: &quot;Index&quot; toc: false --- DiasporaMulti-source ORM for NodeJS &amp; the browser API DocumentationThis documentation section is a readable version of the code, for quick review. Please visit the Manual website or the Quick Code Review Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:02+02:00 using the DocStrap template. "},"Adapters.html":{"id":"Adapters.html","title":"Namespace: Adapters","body":"--- layout: docpage title: &quot;Namespace: Adapters&quot; toc: false --- Namespace: Adapters Adapters Classes BrowserStorageDiasporaAdapter DiasporaAdapter InMemoryDiasporaAdapter Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:03+02:00 using the DocStrap template. "},"Adapters.BrowserStorageDiasporaAdapter.html":{"id":"Adapters.BrowserStorageDiasporaAdapter.html","title":"Class: BrowserStorageDiasporaAdapter","body":"--- layout: docpage title: &quot;Class: BrowserStorageDiasporaAdapter&quot; toc: false --- Class: BrowserStorageDiasporaAdapter Adapters. BrowserStorageDiasporaAdapter This class is used to use local storage or session storage as a data store. This adapter should be used only by the browser. new BrowserStorageDiasporaAdapter(config) Create a new instance of local storage adapter. Parameters: Name Type Description config Object Configuration object. Properties Name Type Argument Default Description session boolean &lt;optional&gt; false Set to true to use sessionStorage instead of localStorage. Extends Adapters.DiasporaAdapter Members classEntity :DataStoreEntities.BrowserStorageEntity Link to the BrowserStorageEntity. Type: DataStoreEntities.BrowserStorageEntity Overrides: Adapters.DiasporaAdapter#classEntity Author: Gerkin error :Error Error triggered by adapter initialization. Type: Error Inherited From: Adapters.DiasporaAdapter#error Author: Gerkin filters :Object Hash of functions to cast data store values to JSON standard values in entity. Type: Object Properties: Name Type Description * function Filter to execute to get standard JSON value. Inherited From: Adapters.DiasporaAdapter#filters Author: Gerkin remaps :Object Hash to transform entity fields to data store fields. Type: Object Properties: Name Type Description * string Data store field associated with this entity field. Inherited From: Adapters.DiasporaAdapter#remaps Author: Gerkin remapsInverted :Object Hash to transform data store fields to entity fields. Type: Object Properties: Name Type Description * string Entity field associated with this data store field. Inherited From: Adapters.DiasporaAdapter#remapsInverted Author: Gerkin source :Storage Storage api where to store data. Type: Storage Author: Gerkin See: localStorage and sessionStorage on MDN web docs. Adapters.BrowserStorageDiasporaAdapter:config.session parameter. state :string Describe current adapter status. Type: string Inherited From: Adapters.DiasporaAdapter#state Overrides: Adapters.DiasporaAdapter#state Author: Gerkin Methods &lt;static&gt; applyOptionsToSet(set, options) Reduce, offset or sort provided set. Parameters: Name Type Description set Array.&lt;Object&gt; Objects retrieved from memory store. options Object Options to apply to the set. Author: gerkin Returns: Set with options applied. Type Array.&lt;Object&gt; applyUpdateEntity(update, entity) Merge update query with the entity. This operation allows to delete fields. Parameters: Name Type Description update Object Hash representing modified values. A field with an undefined value deletes this field from the entity. entity Object Entity to update. Inherited From: Adapters.DiasporaAdapter#applyUpdateEntity Author: gerkin Returns: Entity modified. Type Object configureCollection(tableName, remaps) Create the collection index and call Adapters.DiasporaAdapter#configureCollection. Parameters: Name Type Description tableName string Name of the table (usually, model name). remaps Object Associative hash that links entity field names with data source field names. Overrides: Adapters.DiasporaAdapter#configureCollection Author: gerkin Returns: This function does not return anything. Type undefined deleteMany(table, queryFind [, options]) This reimplements Adapters.DiasporaAdapter#deleteMany, modified for local storage or session storage interactions. Delete several entities from the local storage. Parameters: Name Type Argument Default Description table string Name of the table to delete data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#deleteMany Author: gerkin Returns: Promise resolved once items are deleted. Called with (undefined). Type Promise deleteOne(table, queryFind [, options]) This reimplements Adapters.DiasporaAdapter#deleteOne, modified for local storage or session storage interactions. Delete a single entity from the local storage. Parameters: Name Type Argument Default Description table string Name of the table to delete data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#deleteOne Author: gerkin Returns: Promise resolved once item is deleted. Called with (undefined). Type Promise ensureCollectionExists(table) Create the table key if it does not exist. Parameters: Name Type Description table string Name of the table. Author: gerkin Returns: Index of the collection. Type Array.&lt;string&gt; findMany(table, queryFind [, options]) At least one of findOne or findMany must be reimplemented by adapter. Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide findMany itself. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Inherited From: Adapters.DiasporaAdapter#findMany Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity[] entities). Type Promise findOne(table, queryFind [, options]) This reimplements Adapters.DiasporaAdapter#findOne, modified for local storage or session storage interactions. Retrieve a single entity from the local storage. Parameters: Name Type Argument Default Description table string Name of the model to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#findOne Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntities.BrowserStorageEntity entity). Type Promise findOneById(table, id) Find a single local storage entity using its id. Parameters: Name Type Description table string Name of the collection to search entity in. id string Id of the entity to search. Author: gerkin Returns: Found entity, or undefined if not found. Type DataStoreEntities.BrowserStorageEntity | undefined generateUUID() Create a new unique id for this store's entity. Author: gerkin Returns: Generated unique id. Type string getItemName(table, id) Deduce the item name from table name and item ID. Parameters: Name Type Description table string Name of the table to construct name for. id string Id of the item to find. Author: gerkin Returns: Name of the item. Type string insertMany(table, entities) This reimplements Adapters.DiasporaAdapter#insertMany, modified for local storage or session storage interactions. Insert several entities in the local storage. Parameters: Name Type Description table string Name of the table to insert data in. entities Array.&lt;Object&gt; Array of hashes representing entities to insert. Overrides: Adapters.DiasporaAdapter#insertMany Author: gerkin Returns: Promise resolved once insertion is done. Called with (DataStoreEntities.BrowserStorageEntity[] entities). Type Promise insertOne(table, entity) This reimplements Adapters.DiasporaAdapter#insertOne, modified for local storage or session storage interactions. Insert a single entity in the local storage. Parameters: Name Type Description table string Name of the table to insert data in. entity Object Hash representing the entity to insert. Overrides: Adapters.DiasporaAdapter#insertOne Author: gerkin Returns: Promise resolved once insertion is done. Called with (DataStoreEntities.BrowserStorageEntity entity). Type Promise matchEntity(query, entity) Check if provided entity is matched by the query. Query must be in its canonical form before using this function. Parameters: Name Type Description query QueryLanguage#SelectQuery Query to match against. entity Object Entity to test. Inherited From: Adapters.DiasporaAdapter#matchEntity Author: gerkin Returns: true if query matches, false otherwise. Type boolean normalizeOptions( [opts]) Transform options to their canonical form. This function must be applied before calling adapters' methods. Parameters: Name Type Argument Default Description opts Object &lt;optional&gt; {} Options to transform. Inherited From: Adapters.DiasporaAdapter#normalizeOptions Author: gerkin Throws: Thrown if an option does not have an acceptable type. Type TypeError Thrown if a required option is not present. Type ReferenceError Thrown when there isn't more precise description of the error is available (eg. when conflicts occurs) . Type Error Returns: Transformed options (also called canonical options). Type Object normalizeQuery(originalQuery, options) Transform a search query to its canonical form, replacing aliases or shorthands by full query. Parameters: Name Type Description originalQuery QueryLanguage#SelectQueryOrCondition Query to cast to its canonical form. options QueryLanguage#Options Options for this query. Inherited From: Adapters.DiasporaAdapter#normalizeQuery Author: gerkin Returns: Query in its canonical form. Type QueryLanguage#SelectQueryOrCondition remapFields(tableName, query [, invert]) Cast entity field names to table field name, or the opposite. Parameters: Name Type Argument Default Description tableName string Name of the table we are remapping for. query Object Hash representing the raw query to remap. invert boolean &lt;optional&gt; false false to cast to table field names, true to cast to entity field name. Inherited From: Adapters.DiasporaAdapter#remapFields Author: gerkin Returns: Remapped object. Type Object remapInput(tableName, query) TODO. Parameters: Name Type Description tableName string Name of the table for which we remap. query Object Hash representing the entity to remap. Inherited From: Adapters.DiasporaAdapter#remapInput Author: gerkin See: TODO remapping. Returns: Remapped object. Type Object remapOutput(tableName, query) TODO. Parameters: Name Type Description tableName string Name of the table for which we remap. query Object Hash representing the entity to remap. Inherited From: Adapters.DiasporaAdapter#remapOutput Author: gerkin See: TODO remapping. Returns: Remapped object. Type Object setIdHash(entity [, propName]) Refresh the idHash with current adapter's id injected. Parameters: Name Type Argument Default Description entity Object Object containing attributes of the entity. propName string &lt;optional&gt; 'id' Name of the id field. Inherited From: Adapters.DiasporaAdapter#setIdHash Author: gerkin Returns: Modified entity (for chaining). Type Object updateMany(table, queryFind, update [, options]) At least one of updateOne or updateMany must be reimplemented by adapter. Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide updateMany itself. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. update Object Object properties to set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Inherited From: Adapters.DiasporaAdapter#updateMany Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity[] entities). Type Promise updateOne(table, queryFind, update [, options]) This reimplements Adapters.DiasporaAdapter#updateOne, modified for local storage or session storage interactions. Update a single entity in the memory. Parameters: Name Type Argument Default Description table string Name of the table to update data in. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. update Object Object properties to set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#updateOne Author: gerkin Returns: Promise resolved once update is done. Called with (DataStoreEntities.BrowserStorageEntity entity). Type Promise waitReady() Returns a promise resolved once adapter state is ready. Inherited From: Adapters.DiasporaAdapter#waitReady Author: gerkin Listens to Events: Adapters.DiasporaAdapter#event:error Adapters.DiasporaAdapter#event:ready Returns: Promise resolved when adapter is ready, and rejected if an error occured. Type Promise Events Adapters.BrowserStorageDiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error Inherited From: Adapters.DiasporaAdapter#event:error See: waitReady Convinience method to wait for state change. Adapters.BrowserStorageDiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined Inherited From: Adapters.DiasporaAdapter#event:ready See: waitReady Convinience method to wait for state change. Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:03+02:00 using the DocStrap template. "},"Adapters.DiasporaAdapter.html":{"id":"Adapters.DiasporaAdapter.html","title":"Class: DiasporaAdapter","body":"--- layout: docpage title: &quot;Class: DiasporaAdapter&quot; toc: false --- Class: DiasporaAdapter Adapters. DiasporaAdapter DiasporaAdapter is the base class of adapters. Adapters are components that are in charge to interact with data sources (files, databases, etc etc) with standardized methods. You should not use this class directly: extend this class and re-implement some methods to build an adapter. See the (upcoming) tutorial section. new DiasporaAdapter(classEntity) Create a new instance of adapter. This base class should be used by all other adapters. Parameters: Name Type Description classEntity DataStoreEntities.DataStoreEntity Entity to spawn with this adapter. Author: gerkin Extends SequentialEvent Members classEntity :DataStoreEntities.DataStoreEntity Link to the constructor of the class generated by this adapter. Type: DataStoreEntities.DataStoreEntity Author: Gerkin error :Error Error triggered by adapter initialization. Type: Error Author: Gerkin filters :Object Hash of functions to cast data store values to JSON standard values in entity. Type: Object Properties: Name Type Description * function Filter to execute to get standard JSON value. Author: Gerkin remaps :Object Hash to transform entity fields to data store fields. Type: Object Properties: Name Type Description * string Data store field associated with this entity field. Author: Gerkin remapsInverted :Object Hash to transform data store fields to entity fields. Type: Object Properties: Name Type Description * string Entity field associated with this data store field. Author: Gerkin state :string Describe current adapter status. Type: string Author: Gerkin Methods applyUpdateEntity(update, entity) Merge update query with the entity. This operation allows to delete fields. Parameters: Name Type Description update Object Hash representing modified values. A field with an undefined value deletes this field from the entity. entity Object Entity to update. Author: gerkin Returns: Entity modified. Type Object configureCollection(tableName, remaps [, filters]) Saves the remapping table, the reversed remapping table and the filter table in the adapter. Those tables will be used later when manipulating models &amp; entities. Parameters: Name Type Argument Default Description tableName string Name of the table (usually, model name). remaps Object Associative hash that links entity field names with data source field names. filters Object &lt;optional&gt; {} Not used yet... Author: gerkin Returns: This function does not return anything. Type undefined deleteMany(table, queryFind [, options]) At least one of deleteOne or deleteMany must be reimplemented by adapter. Delete several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide deleteMany itself. Parameters: Name Type Argument Default Description table string Name of the table to delete data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entities to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity[] entities). Type Promise deleteOne(table, queryFind [, options]) At least one of deleteOne or deleteMany must be reimplemented by adapter. Delete a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide deleteOne itself. Parameters: Name Type Argument Default Description table string Name of the table to delete data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entities to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity entity). Type Promise findMany(table, queryFind [, options]) At least one of findOne or findMany must be reimplemented by adapter. Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide findMany itself. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity[] entities). Type Promise findOne(table, queryFind [, options]) At least one of findOne or findMany must be reimplemented by adapter. Retrieve a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide findOne itself. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity entity). Type Promise insertMany(table, entities) At least one of insertOne or insertMany must be reimplemented by adapter. Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide insertMany itself. Parameters: Name Type Description table string Name of the table to insert data in. entities Array.&lt;Object&gt; Array of hashs representing the entities to insert. Author: gerkin Returns: Promise resolved once insertion is done. Called with (DataStoreEntity[] entities). Type Promise insertOne(table, entity) At least one of insertOne or insertMany must be reimplemented by adapter. Insert a single entity in the data store. This function is a default polyfill if the inheriting adapter does not provide insertOne itself. Parameters: Name Type Description table string Name of the table to insert data in. entity Object Hash representing the entity to insert. Author: gerkin Returns: Promise resolved once insertion is done. Called with (DataStoreEntity entity). Type Promise matchEntity(query, entity) Check if provided entity is matched by the query. Query must be in its canonical form before using this function. Parameters: Name Type Description query QueryLanguage#SelectQuery Query to match against. entity Object Entity to test. Author: gerkin Returns: true if query matches, false otherwise. Type boolean normalizeOptions( [opts]) Transform options to their canonical form. This function must be applied before calling adapters' methods. Parameters: Name Type Argument Default Description opts Object &lt;optional&gt; {} Options to transform. Author: gerkin Throws: Thrown if an option does not have an acceptable type. Type TypeError Thrown if a required option is not present. Type ReferenceError Thrown when there isn't more precise description of the error is available (eg. when conflicts occurs) . Type Error Returns: Transformed options (also called canonical options). Type Object normalizeQuery(originalQuery, options) Transform a search query to its canonical form, replacing aliases or shorthands by full query. Parameters: Name Type Description originalQuery QueryLanguage#SelectQueryOrCondition Query to cast to its canonical form. options QueryLanguage#Options Options for this query. Author: gerkin Returns: Query in its canonical form. Type QueryLanguage#SelectQueryOrCondition remapFields(tableName, query [, invert]) Cast entity field names to table field name, or the opposite. Parameters: Name Type Argument Default Description tableName string Name of the table we are remapping for. query Object Hash representing the raw query to remap. invert boolean &lt;optional&gt; false false to cast to table field names, true to cast to entity field name. Author: gerkin Returns: Remapped object. Type Object remapInput(tableName, query) TODO. Parameters: Name Type Description tableName string Name of the table for which we remap. query Object Hash representing the entity to remap. Author: gerkin See: TODO remapping. Returns: Remapped object. Type Object remapOutput(tableName, query) TODO. Parameters: Name Type Description tableName string Name of the table for which we remap. query Object Hash representing the entity to remap. Author: gerkin See: TODO remapping. Returns: Remapped object. Type Object setIdHash(entity [, propName]) Refresh the idHash with current adapter's id injected. Parameters: Name Type Argument Default Description entity Object Object containing attributes of the entity. propName string &lt;optional&gt; 'id' Name of the id field. Author: gerkin Returns: Modified entity (for chaining). Type Object updateMany(table, queryFind, update [, options]) At least one of updateOne or updateMany must be reimplemented by adapter. Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide updateMany itself. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. update Object Object properties to set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity[] entities). Type Promise updateOne(table, queryFind, update [, options]) At least one of updateOne or updateMany must be reimplemented by adapter. Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide updateOne itself. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. update Object Object properties to set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Author: gerkin Returns: Promise resolved once item is found. Called with (DataStoreEntity entity). Type Promise waitReady() Returns a promise resolved once adapter state is ready. Author: gerkin Listens to Events: Adapters.DiasporaAdapter#event:error Adapters.DiasporaAdapter#event:ready Returns: Promise resolved when adapter is ready, and rejected if an error occured. Type Promise Events Adapters.DiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error See: waitReady Convinience method to wait for state change. Listeners of This Event: Adapters.BrowserStorageDiasporaAdapter#waitReady Adapters.DiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#waitReady Adapters.DiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined See: waitReady Convinience method to wait for state change. Listeners of This Event: Adapters.BrowserStorageDiasporaAdapter#waitReady Adapters.DiasporaAdapter#waitReady Adapters.InMemoryDiasporaAdapter#waitReady Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:03+02:00 using the DocStrap template. "},"Adapters.InMemoryDiasporaAdapter.html":{"id":"Adapters.InMemoryDiasporaAdapter.html","title":"Class: InMemoryDiasporaAdapter","body":"--- layout: docpage title: &quot;Class: InMemoryDiasporaAdapter&quot; toc: false --- Class: InMemoryDiasporaAdapter Adapters. InMemoryDiasporaAdapter This class is used to use the memory as a data store. Every data you insert are stored in an array contained by this class. This adapter can be used by both the browser &amp; Node.JS. new InMemoryDiasporaAdapter() Create a new instance of in memory adapter. Extends Adapters.DiasporaAdapter Members classEntity :DataStoreEntities.InMemoryEntity Link to the InMemoryEntity. Type: DataStoreEntities.InMemoryEntity Overrides: Adapters.DiasporaAdapter#classEntity Author: Gerkin error :Error Error triggered by adapter initialization. Type: Error Inherited From: Adapters.DiasporaAdapter#error Author: Gerkin filters :Object Hash of functions to cast data store values to JSON standard values in entity. Type: Object Properties: Name Type Description * function Filter to execute to get standard JSON value. Inherited From: Adapters.DiasporaAdapter#filters Author: Gerkin remaps :Object Hash to transform entity fields to data store fields. Type: Object Properties: Name Type Description * string Data store field associated with this entity field. Inherited From: Adapters.DiasporaAdapter#remaps Author: Gerkin remapsInverted :Object Hash to transform data store fields to entity fields. Type: Object Properties: Name Type Description * string Entity field associated with this data store field. Inherited From: Adapters.DiasporaAdapter#remapsInverted Author: Gerkin state :string Describe current adapter status. Type: string Inherited From: Adapters.DiasporaAdapter#state Overrides: Adapters.DiasporaAdapter#state Author: Gerkin store Plain old javascript object used as data store. Author: Gerkin Methods &lt;static&gt; applyOptionsToSet(set, options) Reduce, offset or sort provided set. Parameters: Name Type Description set Array.&lt;Object&gt; Objects retrieved from memory store. options Object Options to apply to the set. Author: gerkin Returns: Set with options applied. Type Array.&lt;Object&gt; applyUpdateEntity(update, entity) Merge update query with the entity. This operation allows to delete fields. Parameters: Name Type Description update Object Hash representing modified values. A field with an undefined value deletes this field from the entity. entity Object Entity to update. Inherited From: Adapters.DiasporaAdapter#applyUpdateEntity Author: gerkin Returns: Entity modified. Type Object configureCollection(tableName, remaps) Create the data store and call Adapters.DiasporaAdapter#configureCollection. Parameters: Name Type Description tableName string Name of the table (usually, model name). remaps Object Associative hash that links entity field names with data source field names. Overrides: Adapters.DiasporaAdapter#configureCollection Author: gerkin Returns: This function does not return anything. Type undefined deleteMany(table, queryFind [, options]) This reimplements Adapters.DiasporaAdapter#deleteMany, modified for in-memory interactions. Delete several entities from the memory. Parameters: Name Type Argument Default Description table string Name of the table to delete data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#deleteMany Author: gerkin Returns: Promise resolved once items are deleted. Called with (undefined). Type Promise deleteOne(table, queryFind [, options]) This reimplements Adapters.DiasporaAdapter#deleteOne, modified for in-memory interactions. Delete a single entity from the memory. Parameters: Name Type Argument Default Description table string Name of the table to delete data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#deleteOne Author: gerkin Returns: Promise resolved once item is found. Called with (undefined). Type Promise ensureCollectionExists(table) Get or create the store hash. Parameters: Name Type Description table string Name of the table. Author: gerkin Returns: In memory table to use. Type DataStoreTable findMany(table, queryFind [, options]) This reimplements Adapters.DiasporaAdapter#findMany, modified for in-memory interactions. Retrieve several entities from the memory. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#findMany Author: gerkin Returns: Promise resolved once items are found. Called with (InMemoryEntity[] entities). Type Promise findOne(table, queryFind [, options]) This reimplements Adapters.DiasporaAdapter#findOne, modified for in-memory interactions. Retrieve a single entity from the memory. Parameters: Name Type Argument Default Description table string Name of the table to retrieve data from. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#findOne Author: gerkin Returns: Promise resolved once item is found. Called with (InMemoryEntity entity). Type Promise generateUUID() Create a new unique id for this store's entity. Author: gerkin Returns: Generated unique id. Type string insertMany(table, entities) At least one of insertOne or insertMany must be reimplemented by adapter. Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide insertMany itself. Parameters: Name Type Description table string Name of the table to insert data in. entities Array.&lt;Object&gt; Array of hashs representing the entities to insert. Inherited From: Adapters.DiasporaAdapter#insertMany Author: gerkin Returns: Promise resolved once insertion is done. Called with (DataStoreEntity[] entities). Type Promise insertOne(table, entity) This reimplements Adapters.DiasporaAdapter#insertOne, modified for in-memory interactions. Insert a single entity in the memory store. Parameters: Name Type Description table string Name of the table to insert data in. entity Object Hash representing the entity to insert. Overrides: Adapters.DiasporaAdapter#insertOne Author: gerkin Returns: Promise resolved once insertion is done. Called with (InMemoryEntity entity). Type Promise matchEntity(query, entity) Check if provided entity is matched by the query. Query must be in its canonical form before using this function. Parameters: Name Type Description query QueryLanguage#SelectQuery Query to match against. entity Object Entity to test. Inherited From: Adapters.DiasporaAdapter#matchEntity Author: gerkin Returns: true if query matches, false otherwise. Type boolean normalizeOptions( [opts]) Transform options to their canonical form. This function must be applied before calling adapters' methods. Parameters: Name Type Argument Default Description opts Object &lt;optional&gt; {} Options to transform. Inherited From: Adapters.DiasporaAdapter#normalizeOptions Author: gerkin Throws: Thrown if an option does not have an acceptable type. Type TypeError Thrown if a required option is not present. Type ReferenceError Thrown when there isn't more precise description of the error is available (eg. when conflicts occurs) . Type Error Returns: Transformed options (also called canonical options). Type Object normalizeQuery(originalQuery, options) Transform a search query to its canonical form, replacing aliases or shorthands by full query. Parameters: Name Type Description originalQuery QueryLanguage#SelectQueryOrCondition Query to cast to its canonical form. options QueryLanguage#Options Options for this query. Inherited From: Adapters.DiasporaAdapter#normalizeQuery Author: gerkin Returns: Query in its canonical form. Type QueryLanguage#SelectQueryOrCondition remapFields(tableName, query [, invert]) Cast entity field names to table field name, or the opposite. Parameters: Name Type Argument Default Description tableName string Name of the table we are remapping for. query Object Hash representing the raw query to remap. invert boolean &lt;optional&gt; false false to cast to table field names, true to cast to entity field name. Inherited From: Adapters.DiasporaAdapter#remapFields Author: gerkin Returns: Remapped object. Type Object remapInput(tableName, query) TODO. Parameters: Name Type Description tableName string Name of the table for which we remap. query Object Hash representing the entity to remap. Inherited From: Adapters.DiasporaAdapter#remapInput Author: gerkin See: TODO remapping. Returns: Remapped object. Type Object remapOutput(tableName, query) TODO. Parameters: Name Type Description tableName string Name of the table for which we remap. query Object Hash representing the entity to remap. Inherited From: Adapters.DiasporaAdapter#remapOutput Author: gerkin See: TODO remapping. Returns: Remapped object. Type Object setIdHash(entity [, propName]) Refresh the idHash with current adapter's id injected. Parameters: Name Type Argument Default Description entity Object Object containing attributes of the entity. propName string &lt;optional&gt; 'id' Name of the id field. Inherited From: Adapters.DiasporaAdapter#setIdHash Author: gerkin Returns: Modified entity (for chaining). Type Object updateMany(table, queryFind, update [, options]) This reimplements Adapters.DiasporaAdapter#updateMany, modified for in-memory interactions. Update several entities in the memory. Parameters: Name Type Argument Default Description table string Name of the table to update data in. queryFind QueryLanguage#SelectQueryOrCondition Hash representing entities to find. update Object Object properties to set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#updateMany Author: gerkin Returns: Promise resolved once update is done. Called with (InMemoryEntity[] entities). Type Promise updateOne(table, queryFind, update [, options]) This reimplements Adapters.DiasporaAdapter#updateOne, modified for in-memory interactions. Update a single entity in the memory. Parameters: Name Type Argument Default Description table string Name of the table to update data in. queryFind QueryLanguage#SelectQueryOrCondition Hash representing the entity to find. update Object Object properties to set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Hash of options. Overrides: Adapters.DiasporaAdapter#updateOne Author: gerkin Returns: Promise resolved once update is done. Called with (InMemoryEntity entity). Type Promise waitReady() Returns a promise resolved once adapter state is ready. Inherited From: Adapters.DiasporaAdapter#waitReady Author: gerkin Listens to Events: Adapters.DiasporaAdapter#event:error Adapters.DiasporaAdapter#event:ready Returns: Promise resolved when adapter is ready, and rejected if an error occured. Type Promise Events Adapters.InMemoryDiasporaAdapter#event:error Fired if the adapter failed to initialize or changed to error state. Called with the triggering error. Type: Error Inherited From: Adapters.DiasporaAdapter#event:error See: waitReady Convinience method to wait for state change. Adapters.InMemoryDiasporaAdapter#event:ready Fired when the adapter is ready to use. You should not try to use the adapter before this event is emitted. Type: undefined Inherited From: Adapters.DiasporaAdapter#event:ready See: waitReady Convinience method to wait for state change. Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"ConstrainedTypes.html":{"id":"ConstrainedTypes.html","title":"Namespace: ConstrainedTypes","body":"--- layout: docpage title: &quot;Namespace: ConstrainedTypes&quot; toc: false --- Namespace: ConstrainedTypes ConstrainedTypes Namespace for types with constraints, like [0, Infinity], ]0, Infinity[, etc etc Type Definitions AbsInt Integer above 0 Type: Integer AbsInt0 Integer equal or above 0 Type: Integer AbsIntInf Integer above 0, may be integer Type: Integer AbsIntInf0 Integer equal or above 0, may be integer Type: Integer Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"DataStoreEntities.html":{"id":"DataStoreEntities.html","title":"Namespace: DataStoreEntities","body":"--- layout: docpage title: &quot;Namespace: DataStoreEntities&quot; toc: false --- Namespace: DataStoreEntities DataStoreEntities Classes BrowserStorageEntity DataStoreEntity InMemoryEntity Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"DataStoreEntities.BrowserStorageEntity.html":{"id":"DataStoreEntities.BrowserStorageEntity.html","title":"Class: BrowserStorageEntity","body":"--- layout: docpage title: &quot;Class: BrowserStorageEntity&quot; toc: false --- Class: BrowserStorageEntity DataStoreEntities. BrowserStorageEntity Entity stored in the local storage adapter. new BrowserStorageEntity(entity, dataSource) Construct a local storage entity with specified content &amp; parent. Parameters: Name Type Description entity Object Object containing attributes to inject in this entity. The only reserved key is dataSource. dataSource Adapters.DiasporaAdapter Adapter that spawn this entity. Extends DataStoreEntities.DataStoreEntity Methods toObject() Returns a plain object corresponding to this entity attributes. Inherited From: DataStoreEntities.DataStoreEntity#toObject Author: gerkin Returns: Plain object representing this entity. Type Object Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"DataStoreEntities.DataStoreEntity.html":{"id":"DataStoreEntities.DataStoreEntity.html","title":"Class: DataStoreEntity","body":"--- layout: docpage title: &quot;Class: DataStoreEntity&quot; toc: false --- Class: DataStoreEntity DataStoreEntities. DataStoreEntity DataStoreEntity is the sub-entity reflecting a single source content. Values may differ from the Entity itself. new DataStoreEntity(entity, dataSource) Construct a new data source entity with specified content &amp; parent. Parameters: Name Type Description entity Object Object containing attributes to inject in this entity. The only reserved key is dataSource. dataSource Adapters.DiasporaAdapter Adapter that spawn this entity. Methods toObject() Returns a plain object corresponding to this entity attributes. Author: gerkin Returns: Plain object representing this entity. Type Object Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"DataStoreEntities.InMemoryEntity.html":{"id":"DataStoreEntities.InMemoryEntity.html","title":"Class: InMemoryEntity","body":"--- layout: docpage title: &quot;Class: InMemoryEntity&quot; toc: false --- Class: InMemoryEntity DataStoreEntities. InMemoryEntity Entity stored in the in-memory adapter. new InMemoryEntity(entity, dataSource) Construct a in memory entity with specified content &amp; parent. Parameters: Name Type Description entity Object Object containing attributes to inject in this entity. The only reserved key is dataSource. dataSource Adapters.DiasporaAdapter Adapter that spawn this entity. Extends DataStoreEntities.DataStoreEntity Methods toObject() Returns a plain object corresponding to this entity attributes. Inherited From: DataStoreEntities.DataStoreEntity#toObject Author: gerkin Returns: Plain object representing this entity. Type Object Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"Diaspora.html":{"id":"Diaspora.html","title":"Namespace: Diaspora","body":"--- layout: docpage title: &quot;Namespace: Diaspora&quot; toc: false --- Namespace: Diaspora Diaspora Diaspora main namespace Author: gerkin Members &lt;private, static&gt; adapters :Object Hash containing all available adapters. The only universal adapter is inMemory. Type: Object Properties: Name Type Description * Adapters.DiasporaAdapter Adapter constructor. Those constructors must be subclasses of DiasporaAdapter. inMemory Adapters.InMemorDiasporaAdapter InMemoryDiasporaAdapter constructor. Author: gerkin See: Use Diaspora.registerAdapter to add adapters. &lt;private, static&gt; components :Object Hash of components exposed by Diaspora. Type: Object Author: gerkin &lt;private, static&gt; dataSources :Object Hash containing all available data sources. Type: Object Properties: Name Type Description * Adapters.DiasporaAdapter Instances of adapters declared. Author: gerkin See: Use Diaspora.createNamedDataSource or Diaspora.registerDataSource to make data sources available for models. &lt;private, static&gt; dependencies :Object Dependencies of Diaspora. Type: Object Properties: Name Type Description Promise Bluebird Bluebird lib. _ Lodash Lodash lib. sequential-event SequentialEvent SequentialEvent lib. Author: gerkin &lt;static&gt; models :Object Hash containing all available models. Type: Object Properties: Name Type Description * Model Model associated with that name. Author: gerkin See: Use Diaspora.declareModel to add models. Methods &lt;static&gt; check(entity, modelDesc) Check if the value matches the field description provided, thus verify if it is valid. Parameters: Name Type Description entity Object Entity to check. modelDesc module:ModelExtension.ModelPrototype Model description. Author: gerkin Returns: Array of errors. Type Array.&lt;Error&gt; &lt;static&gt; checkField(value, fieldDesc, keys) Check if the value matches the field description provided, thus verify if it is valid. Parameters: Name Type Description value Any Value to check. fieldDesc module:ModelExtension.FieldDescriptor Description of the field to check with. keys Array.&lt;String&gt; Array of keys from highest ancestor to this property. Author: gerkin Returns: Hash describing errors. Type Object &lt;static&gt; createDataSource(adapterLabel, config) Create a data source (usually, a database connection) that may be used by models. Parameters: Name Type Description adapterLabel string Label of the adapter used to create the data source. config Object Configuration hash. This configuration hash depends on the adapter we want to use. Author: gerkin Throws: Thrown if provided adapter label does not correspond to any adapter registered. Type Error Returns: New adapter spawned. Type Adapters.DiasporaAdapter &lt;static&gt; createNamedDataSource(name, adapterLabel, config) Create a data source (usually, a database connection) that may be used by models. Parameters: Name Type Description name string Name associated with this datasource. adapterLabel string Label of the adapter used to create the data source. config Object Configuration hash. This configuration hash depends on the adapter we want to use. Author: gerkin Throws: Thrown if provided adapter label does not correspond to any adapter registered. Type Error Returns: New adapter spawned. Type Adapters.DiasporaAdapter &lt;static&gt; declareModel(name, modelDesc) Create a new Model with provided description. Parameters: Name Type Description name string Name associated with this datasource. modelDesc Object Description of the model to define. Author: gerkin Throws: Thrown if parameters are incorrect. Type Error Returns: Model created. Type Model &lt;static&gt; default(entity, modelDesc) Set default values if required. Parameters: Name Type Description entity Object Entity to set defaults in. modelDesc ModelPrototype Model description. Author: gerkin Returns: Entity merged with default values. Type Object &lt;static&gt; defaultField(value, fieldDesc) Set the default on a single field according to its description. Parameters: Name Type Description value Any Value to default. fieldDesc FieldDescriptor Description of the field to default. Author: gerkin Returns: Defaulted value. Type Any &lt;static&gt; registerAdapter(label, adapter) Register a new adapter and make it available to use by models. Parameters: Name Type Description label string Label of the adapter to register. adapter Adapters.DiasporaAdapter The adapter to register. Author: gerkin Throws: Thrown if an adapter already exists with same label. Type Error Thrown if adapter does not extends Adapters.DiasporaAdapter. Type TypeError Returns: This function does not return anything. Type undefined &lt;static&gt; registerDataSource(name, dataSource) Stores the data source with provided label. Parameters: Name Type Description name string Name associated with this datasource. dataSource DiasporaAdapter Datasource itself. Author: gerkin Throws: Error is thrown if parameters are incorrect or the name is already used or dataSource is not an adapter. Type Error Returns: This function does not return anything. Type undefined Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"EntityFactory.html":{"id":"EntityFactory.html","title":"Namespace: EntityFactory","body":"--- layout: docpage title: &quot;Namespace: EntityFactory&quot; toc: false --- Namespace: EntityFactory EntityFactory Classes Entity An entity is a document in the population of all your datas of the same type Methods &lt;static&gt; EntityFactory(name, modelAttrs, model) This factory function generate a new class constructor, prepared for a specific model. Parameters: Name Type Description name string Name of this model. modelAttrs Object Object describing a model. model Model Model that will spawn entities. Returns: Entity constructor to use with this model. Type Entity Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"EntityFactory.Entity.html":{"id":"EntityFactory.Entity.html","title":"Class: Entity","body":"--- layout: docpage title: &quot;Class: Entity&quot; toc: false --- Class: Entity EntityFactory. Entity The entity is the class you use to manage a single document in all data sources managed by your model. Note that this class is proxied: you may try to access to undocumented class properties to get entity's data attributes new Entity( [source]) An entity is a document in the population of all your datas of the same type Create a new entity. Parameters: Name Type Argument Default Description source Object | DataStoreEntities.DataStoreEntity &lt;optional&gt; {} Hash with properties to copy on the new object. If provided object inherits DataStoreEntity, the constructed entity is built in sync state. Extends SequentialEvent Members &lt;static, readonly&gt; model :Model Reference to this entity's model. Type: Model Author: gerkin &lt;static, readonly&gt; name :string Name of the class. Type: string Author: gerkin &lt;readonly&gt; dataSources :Object Hash that links each data source with its name. This object is prepared with keys from model sources, and sealed. Type: Object Author: gerkin &lt;readonly&gt; dataSources :Entity.State Get entity's current state. Type: Entity.State Author: gerkin &lt;readonly&gt; dataSources :null|string Get entity's last data source. Type: null | string Author: gerkin Methods destroy(sourceName [, options]) Delete this entity from the specified data source. Parameters: Name Type Argument Description sourceName string Name of the data source to delete entity from. options Object &lt;optional&gt; Hash of options for this query. You should not use this parameter yourself: Diaspora uses it internally. Properties Name Type Argument Default Description skipEvents boolean &lt;optional&gt; false If true, won't trigger events beforeDelete and afterDelete. Author: gerkin Fires: EntityFactory.Entity#event:beforeDelete EntityFactory.Entity#event:afterDelete Returns: Promise resolved once entity is destroyed. Resolved with this. Type Promise fetch(sourceName [, options]) Reload this entity from specified data source. Parameters: Name Type Argument Description sourceName string Name of the data source to fetch entity from. options Object &lt;optional&gt; Hash of options for this query. You should not use this parameter yourself: Diaspora uses it internally. Properties Name Type Argument Default Description skipEvents boolean &lt;optional&gt; false If true, won't trigger events beforeFind and afterFind. Author: gerkin Fires: EntityFactory.Entity#event:beforeFind EntityFactory.Entity#event:afterFind Returns: Promise resolved once entity is reloaded. Resolved with this. Type Promise persist(sourceName [, options]) Save this entity in specified data source. Parameters: Name Type Argument Description sourceName string Name of the data source to persist entity in. options Object &lt;optional&gt; Hash of options for this query. You should not use this parameter yourself: Diaspora uses it internally. Properties Name Type Argument Default Description skipEvents boolean &lt;optional&gt; false If true, won't trigger events beforeUpdate and afterUpdate. Author: gerkin Fires: EntityFactory.Entity#event:beforeUpdate EntityFactory.Entity#event:afterUpdate Returns: Promise resolved once entity is saved. Resolved with this. Type Promise table() Return the table of this entity in the specified data source. Author: gerkin Returns: Name of the table. Type string toObject() Returns a copy of this entity attributes. Author: gerkin Returns: Attributes of this entity. Type Object uidQuery(dataSource) Generate the query to get this unique entity in the desired data source. Parameters: Name Type Description dataSource Adapters.DiasporaAdapter Name of the data source to get query for. Author: gerkin Returns: Query to find this entity. Type Object &lt;inner&gt; beforeUpdateValidate() Check if the entity matches model description. Author: gerkin See: Diaspora.check Listens to Events: EntityFactory.Entity#event:beforeUpdate Throws: ValidationError Thrown if validation failed. This breaks event chain and prevent persistance. Returns: This function does not return anything. Type undefined Events EntityFactory.Entity#event:afterDelete Fired after deleting this entity from the data source. Argument is the data source name deleted from Type: String EntityFactory.Entity#event:afterFind Fired after reloading this entity from the data source. Argument is the data source name searched in Type: String EntityFactory.Entity#event:afterUpdate Fired after updating this entity in the data source. Argument is the data source name updated Type: String EntityFactory.Entity#event:beforeDelete Fired before deleting this entity from the data source. Argument is the data source name to delete from Type: String EntityFactory.Entity#event:beforeFind Fired before reloading this entity from the data source. Argument is the data source name to search in Type: String EntityFactory.Entity#event:beforeUpdate Fired before updating this entity in the data source. Argument is the data source name to update Type: String Listeners of This Event: EntityFactory.Entity~beforeUpdateValidate Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:04+02:00 using the DocStrap template. "},"Model.html":{"id":"Model.html","title":"Class: Model","body":"--- layout: docpage title: &quot;Class: Model&quot; toc: false --- Class: Model Model The model class is used to interact with the population of all data of the same type. new Model(name, modelDesc) Create a new Model that is allowed to interact with all entities of data sources tables selected. Parameters: Name Type Description name string Name of the model. modelDesc ModelDescription Hash representing the configuration of the model. Methods delete( [queryFind] [, options] [, dataSourceName]) Delete a single entity from specified data source that matches provided queryFind and options. Parameters: Name Type Argument Default Description queryFind QueryLanguage#SelectQueryOrCondition &lt;optional&gt; {} Query to get desired entity. options QueryLanguage#QueryOptions &lt;optional&gt; {} Options for this query. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to get entity from. Author: gerkin Returns: Promise resolved with undefined. Type Promise deleteMany( [queryFind] [, options] [, dataSourceName]) Delete multiple entities from specified data source that matches provided queryFind and options. Parameters: Name Type Argument Default Description queryFind QueryLanguage#SelectQueryOrCondition &lt;optional&gt; {} Query to get desired entities. options QueryLanguage#QueryOptions &lt;optional&gt; {} Options for this query. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to get entities from. Author: gerkin Returns: Promise resolved with undefined. Type Promise find( [queryFind] [, options] [, dataSourceName]) Retrieve a single entity from specified data source that matches provided queryFind and options. Parameters: Name Type Argument Default Description queryFind QueryLanguage#SelectQueryOrCondition &lt;optional&gt; {} Query to get desired entity. options QueryLanguage#QueryOptions &lt;optional&gt; {} Options for this query. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to get entity from. Author: gerkin Returns: Promise resolved with the found entity in sync state. Type Promise findMany( [queryFind] [, options] [, dataSourceName]) Retrieve multiple entities from specified data source that matches provided queryFind and options. Parameters: Name Type Argument Default Description queryFind QueryLanguage#SelectQueryOrCondition &lt;optional&gt; {} Query to get desired entities. options QueryLanguage#QueryOptions &lt;optional&gt; {} Options for this query. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to get entities from. Author: gerkin Returns: Promise resolved with a set of found entities in sync state. Type Promise getDataSource( [sourceName]) Create a new Model that is allowed to interact with all entities of data sources tables selected. Parameters: Name Type Argument Default Description sourceName string &lt;optional&gt; Model.defaultDataSource Name of the source to get. It corresponds to one of the sources you set in Model#modelDesc.sources. Author: gerkin Throws: Thrown if requested source name does not exists. Type Error Returns: Source adapter with requested name. Type Adapters.DiasporaAdapter insert(source [, dataSourceName]) Insert a raw source object in the data store. Parameters: Name Type Argument Default Description source Object Object to copy attributes from. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to insert in. Author: gerkin Returns: Promise resolved with new sync entity. Type Promise insertMany(sources [, dataSourceName]) Insert multiple raw source objects in the data store. Parameters: Name Type Argument Default Description sources Array.&lt;Object&gt; Array of object to copy attributes from. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to insert in. Author: gerkin Returns: Promise resolved with a set containing new sync entities. Type Promise spawn(source) Create a new orphan entity. Parameters: Name Type Description source Object Object to copy attributes from. Author: gerkin Returns: New orphan entity. Type Entity spawnMulti(sources) Create multiple new orphan entities. Parameters: Name Type Description sources Array.&lt;Object&gt; Array of objects to copy attributes from. Author: gerkin Returns: Set with new orphan entities. Type Set update( [queryFind], update [, options] [, dataSourceName]) Update a single entity from specified data source that matches provided queryFind and options. Parameters: Name Type Argument Default Description queryFind QueryLanguage#SelectQueryOrCondition &lt;optional&gt; {} Query to get desired entity. update Object Attributes to update on matched set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Options for this query. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to get entity from. Author: gerkin Returns: Promise resolved with the updated entity in sync state. Type Promise updateMany( [queryFind], update [, options] [, dataSourceName]) Update multiple entities from specified data source that matches provided queryFind and options. Parameters: Name Type Argument Default Description queryFind QueryLanguage#SelectQueryOrCondition &lt;optional&gt; {} Query to get desired entities. update Object Attributes to update on matched set. options QueryLanguage#QueryOptions &lt;optional&gt; {} Options for this query. dataSourceName string &lt;optional&gt; Model.defaultDataSource Name of the data source to get entities from. Author: gerkin Returns: Promise resolved with the set of found entities in sync state. Type Promise Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:05+02:00 using the DocStrap template. "},"QueryLanguage.html":{"id":"QueryLanguage.html","title":"Namespace: QueryLanguage","body":"--- layout: docpage title: &quot;Namespace: QueryLanguage&quot; toc: false --- Namespace: QueryLanguage QueryLanguage Type Definitions QueryOptions All properties are optional Type: Object Properties: Name Type Default Description skip ConstrainedTypes.AbsInt0 0 Number of items to skip limit ConstrainedTypes.AbsIntInf0 Infinity Number of items to get page ConstrainedTypes.AbsInt0 To use with limit and without skip. Skips page pages of limit elements remapInput Boolean true Flag indicating if adapter input should be remapped or not. TODO Remapping doc remapOutput Boolean true Flag indicating if adapter output should be remapped or not. TODO Remapping doc Author: gerkin SelectQuery Type: Object Properties: Name Type Description * Any | SelectQueryCondition Fields to search. If not providing an object, find items with a property value that equals this value Author: gerkin SelectQueryCondition By default, all conditions in a single SelectQueryCondition are combined with an AND operator. Type: Object Properties: Name Type Description $equals Any Match if item value is equal to this. Objects and array are compared deeply. Alias: == $diff Any Match if item value is different to this. Objects and array are compared deeply. Alias: != NOT IMPLEMENTED YET $exists boolean If true, match items where this prop is defined. If false, match when prop is null or not set. Alias: ~ NOT IMPLEMENTED YET $less integer Match if item value is less than this. Alias: &lt; NOT IMPLEMENTED YET $lessEqual integer Match if item value is less than this or equals to this. Alias: &lt;= NOT IMPLEMENTED YET $greater integer Match if item value is greater than this. Alias: &gt; NOT IMPLEMENTED YET $greaterEqual integer Match if item value is greater than this or equals to this. Alias: &gt;= NOT IMPLEMENTED YET $or Array.&lt;QueryLanguage#SelectQueryOrCondition&gt; Match if one of the conditions in the array is true. Alias: || NOT IMPLEMENTED YET $and Array.&lt;QueryLanguage#SelectQueryOrCondition&gt; Match if all the conditions in the array are true. Optional, because several conditions in a single SelectQueryCondition are combined with an AND operator. Alias: &amp;&amp; NOT IMPLEMENTED YET $xor Array.&lt;QueryLanguage#SelectQueryOrCondition&gt; Match if a single of the conditions in the array is true. Alias: ^^ NOT IMPLEMENTED YET $not QueryLanguage#SelectQueryOrCondition Invert the condition Alias: ! NOT IMPLEMENTED YET $contains string On string, it will check if query is included in item using GLOB. NOT IMPLEMENTED YET $contains QueryLanguage#SelectQueryOrCondition | Any On array, it will check if item contains the query. NOT IMPLEMENTED YET $in Array.&lt;Any&gt; Check if item value is contained (using deep comparaison) in query. NOT IMPLEMENTED YET Author: gerkin SelectQueryOrCondition Type: QueryLanguage#SelectQuery | QueryLanguage#SelectQueryCondition Author: gerkin Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:05+02:00 using the DocStrap template. "},"Set.html":{"id":"Set.html","title":"Class: Set","body":"--- layout: docpage title: &quot;Class: Set&quot; toc: false --- Class: Set Set Collections are used to manage multiple entities at the same time. You may try to use this class as an array. new Set(model, entities) Create a new set, managing provided entities that must be generated from provided model. Parameters: Name Type Argument Description model Model Model describing entities managed by this set. entities Entity | Array.&lt;Entity&gt; &lt;repeatable&gt; Entities to manage with this set. Arguments are flattened, so you can provide as many nested arrays as you want. Members &lt;readonly&gt; entities :LodashWrapper.&lt;Entity&gt; List entities of this set. Type: LodashWrapper.&lt;Entity&gt; Author: Gerkin &lt;readonly&gt; length :Integer Number of entities in this set. Type: Integer Author: Gerkin &lt;readonly&gt; model :Model Model that generated this set. Type: Model Author: Gerkin Methods &lt;static&gt; checkEntitiesFromModel(entities, model) Check if all entities in the first argument are from the expected model. Parameters: Name Type Description entities Array.&lt;Entity&gt; Array of entities to check. model Model Model expected to be the source of all entities. Author: gerkin Throws: Thrown if one of the entity is not from provided model. Type TypeError Returns: This function does not return anything. Type undefined destroy(sourceName) Destroy all entities from this collection. Parameters: Name Type Description sourceName string Name of the data source to delete entities from. Author: gerkin See: EntityFactory.Entity#destroy Fires: EntityFactory.Entity#event:beforeDelete EntityFactory.Entity#event:afterDelete Returns: Promise resolved once all items are destroyed. Type Promise fetch(sourceName) Reload all entities of this collection. Parameters: Name Type Description sourceName string Data source name to reload entities from. Author: gerkin See: EntityFactory.Entity#fetch Fires: EntityFactory.Entity#event:beforeFind EntityFactory.Entity#event:afterFind Returns: Promise resolved once all items are reloaded. Type Promise persist(sourceName) Persist all entities of this collection. Parameters: Name Type Description sourceName string Data source name to persist in. Author: gerkin See: EntityFactory.Entity#persist Fires: EntityFactory.Entity#event:beforeUpdate EntityFactory.Entity#event:afterUpdate Returns: Promise resolved once all items are persisted. Type Promise update(newData) Update all entities in the set with given object. Parameters: Name Type Description newData Object Attributes to change in each entity of the collection. Author: gerkin Returns: this. Type Collection Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:05+02:00 using the DocStrap template. "},"ValidationError.html":{"id":"ValidationError.html","title":"Class: ValidationError","body":"--- layout: docpage title: &quot;Class: ValidationError&quot; toc: false --- Class: ValidationError ValidationError This class represents an error related to validation. new ValidationError(validationErrors, message, errorArgs) Construct a new validation error. Parameters: Name Type Argument Description validationErrors Object Object describing validation errors, usually returned by Diaspora.check. message string Message of this error. errorArgs * &lt;repeatable&gt; Arguments to transfer to parent Error. Extends Error Documentation generated by JSDoc 3.5.5 on 2017-10-11T21:53:05+02:00 using the DocStrap template. "}}
</script>

<script type="text/javascript">
	$(document).ready(function() {
		Searcher.init();
	});

	$(window).on("message", function(msg) {
		var msgData = msg.originalEvent.data;

		if (msgData.msgid != "docstrap.quicksearch.start") {
			return;
		}

		var results = Searcher.search(msgData.searchTerms);

		window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
	});
</script>